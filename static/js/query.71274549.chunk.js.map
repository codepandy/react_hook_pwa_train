{"version":3,"sources":["utils/request.js","components/Nav.js","components/useNav.js","utils/utils.js","../node_modules/left-pad/index.js","query/action.js","query/reducers.js","query/store.js","query/List.js","query/Slider.jsx","utils/useWinSize.js","query/BottomModal.js","query/Bottom.js","query/App.jsx","query/index.js","utils/constant.js","components/Header.jsx"],"names":["request","url","options","newOptions","_objectSpread","credentials","headers","Headers","Content-Type","fetch","then","response","status","msg","error","Error","json","catch","err","console","log","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","classnames__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_1___default","dayjs__WEBPACK_IMPORTED_MODULE_2__","dayjs__WEBPACK_IMPORTED_MODULE_2___default","Nav","memo","props","date","onClickPre","onClickNext","isPreDisabled","isNextDisabled","currentString","useMemo","d","dayjs","format","locale","a","createElement","className","classnames","nav-disabled","onClick","__webpack_exports__","useNav","_utils_utils__WEBPACK_IMPORTED_MODULE_1__","departDate","setPrevDay","setNextDay","h0","useCallback","timestamp","arguments","length","undefined","Date","now","target","setHours","setMinutes","setSeconds","setMilliseconds","getTime","module","exports","str","len","ch","cache","pad","ACTION_SET_FROM","ACTION_SET_TO","ACTION_SET_DEPARTDATE","ACTION_SET_HIGHSPEED","ACTION_SET_ORDERTYPE","ACTION_SET_ONLYTICKETS","ACTION_SET_TICKETTYPES","ACTION_SET_CHECKEDTICKETTYPES","ACTION_SET_TRAINTYPES","ACTION_SET_CHECKEDTRAINTYPES","ACTION_SET_DEPARTSTATIONS","ACTION_SET_CHECKEDDEPARTSTATIONS","ACTION_SET_ARRIVESTATIONS","ACTION_SET_CHECKEDARRIVESTATIONS","ACTION_SET_DEPARTTIMESTART","ACTION_SET_DEPARTTIMEEND","ACTION_SET_ARRIVETIMESTART","ACTION_SET_ARRIVETIMEEND","ACTION_SET_ISFILLTERSVISIBLE","ACTION_SET_SEARCHPARSED","ACTION_SET_TRAIN_LIST","setDepartDate","payload","type","setHighSpeed","reducers","from","state","action","to","highSpeed","Boolean","orderType","ORDER_TYPE_KEY","orderDepart","onlyTickets","ticketTypes","checkedTicketTypes","trainTypes","checkedTrainTypes","newCheckTrainTypes","departStations","checkedDepartStations","arriveStations","checkedArriveStations","departTimeStart","departTimeEnd","arriveTimeStart","arriveTimeEnd","isFilltersVisible","searchParsed","trainList","createStore","combineReducers","applyMiddleware","thunk","ListItem","dTime","aTime","dStation","aStation","trainNumber","time","priceMsg","dayAfter","URI","setSearch","toString","react_default","href","List","list","map","item","Object","assign","key","Slider","title","currentStartHours","currentEndHours","onStartChanged","onEndChanged","winSize","_useState","useState","document","documentElement","clientWidth","_useState2","slicedToArray","width","setWidth","_useState3","clientHeight","_useState4","height","setHeight","onResize","useEffect","window","addEventListener","removeEventListener","useWinSize","startHandle","useRef","endHandle","lastStartX","lastEndX","range","rangeWidth","prevCurrentStartHours","prevCurrentEndHours","start","setStart","end","setEnd","current","startPercent","endPercent","startHours","Math","round","endHours","startText","leftPad","endText","onStartTouchBegin","e","touch","targetTouches","pageX","onEndTouchBegin","onStartTouchMove","distance","onEndTouchMove","parseFloat","getComputedStyle","ref","style","left","checkedReducer","newState","BottomModal_objectSpread","Filter","name","value","checked","dispatch","Options","checkedMap","option","BottomModal","setCheckedTicketTypes","setCheckedTrainTypes","setCheckedDepartStations","setCheckedArriveStations","setDepartTimeStart","setDepartTimeEnd","setArriveTimeStart","setArriveTimeEnd","toggleIsFiltersVisible","_useReducer","useReducer","_useReducer2","localCheckedTicketTypes","localCheckedTicketTypesDispatch","_useReducer3","_useReducer4","localCheckedTrainTypes","localCheckedTrainTypesDispatch","_useReducer5","_useReducer6","localCheckedDepartStations","localCheckedDepartStationsDispatch","_useReducer7","_useReducer8","localCheckedArriveStations","localCheckedArriveStationsDispatch","localDepartTimeStart","setLocalDepartTimeStart","localDepartTimeEnd","setLocalDepartTimeEnd","_useState5","_useState6","localArriveTimeStart","setLocalArriveTimeStart","_useState7","_useState8","localArriveTimeEnd","setLocalArriveTimeEnd","optionGroup","isResetDisabled","keys","disabled","group","src_query_Slider","Bottom","toggleHighSpeed","toggleOrderType","toggleOnlyTickets","noChecked","item-on","query_BottomModal","connect","setFrom","setTo","setSearchParsed","fetchTicketList","concat","process","stringify","_data$dataMap$directT","data","dataMap","directTrainInfo","trains","_data$dataMap$directT2","filter","ticketType","trainType","depStation","arrStation","setTicketTypes","setTrainTypes","setDepartStations","setArriveStations","getState","orderDuration","onBack","history","back","queryParams","parseQuery","location","search","_useNav","Header","src_query_List","Bottom_Bottom","ReactDOM","render","es","store","query_App","getElementById","CITY_DATA_CATCH_KEY","points","stroke","strokeWidth","fill"],"mappings":"gWAkBe,SAASA,EAAQC,EAAKC,GACnC,IAMMC,uVAAUC,CAAA,GANO,CACrBC,YAAa,UACbC,QAAS,IAAIC,QAAQ,CACnBC,eAAgB,sBAGJ,GAEXN,GAEL,OAAOO,MAAMR,EAAKE,GACfO,KAAK,SAAAC,GAAY,IACRC,EAAgBD,EAAhBC,OAAQC,EAAQF,EAARE,IAChB,GAAID,GAAU,KAAOA,EAAS,IAC5B,OAAOD,EAET,IAAMG,EAAQ,IAAIC,MAAMF,GAGxB,MAFAC,EAAMF,OAASA,EACfE,EAAMH,SAAWA,EACXG,IAEPJ,KAAK,SAAAC,GAAQ,OAAIA,EAASK,SAC1BC,MAAM,SAAAC,GACLC,QAAQC,IAAI,uGC1ClB,IAAAC,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,GAAAI,EAAAJ,EAAAE,EAAAC,GAAAE,EAAAL,EAAA,GAAAM,EAAAN,EAAAE,EAAAG,GAOME,GAPNP,EAAA,IAAAA,EAAA,IAOYQ,eAAK,SAAaC,GAAO,IAC3BC,EAAiED,EAAjEC,KAAMC,EAA2DF,EAA3DE,WAAYC,EAA+CH,EAA/CG,YAAaC,EAAkCJ,EAAlCI,cAAeC,EAAmBL,EAAnBK,eAChDC,EAAgBC,kBAAQ,WAC5B,IAAMC,EAAIC,IAAMR,GAChB,OAAOO,EAAEE,OAAO,kBAAUF,EAAEG,OAAO,SAASD,OAAO,QAClD,CAACT,IACJ,OACET,EAAAoB,EAAAC,cAAA,OAAKC,UAAU,OACbtB,EAAAoB,EAAAC,cAAA,QACEC,UAAWC,IAAW,WAAY,CAAEC,eAAgBZ,IACpDa,QAASf,GAFX,sBAMAV,EAAAoB,EAAAC,cAAA,QAAMC,UAAU,eAAeR,GAC/Bd,EAAAoB,EAAAC,cAAA,QACEC,UAAWC,IAAW,WAAY,CAAEC,eAAgBX,IACpDY,QAASd,GAFX,0BAkBSL,uCCxCfP,EAAAiB,EAAAU,EAAA,sBAAAC,IAAA,IAAA7B,EAAAC,EAAA,GAAA6B,EAAA7B,EAAA,GAOe,SAAS4B,EAAOE,EAAYC,EAAYC,GACrD,IAAMnB,EAAgBoB,YAAGH,IAAeG,cAClCnB,EAAiBmB,YAAGH,GAAcG,cAAO,OAEzCtB,EAAauB,sBAAY,WACzBrB,GAGJkB,KACC,CAAClB,EAAekB,IACbnB,EAAcsB,sBAAY,WAC1BpB,GAGJkB,KACC,CAAClB,EAAgBkB,IAEpB,MAAO,CACLnB,gBACAC,iBACAH,aACAC,gDC5BG,SAASqB,IAA2B,IAAxBE,EAAwBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZG,KAAKC,MAC5BC,EAAS,IAAIF,KAAKJ,GAMxB,OALAM,EAAOC,SAAS,GAChBD,EAAOE,WAAW,GAClBF,EAAOG,WAAW,GAClBH,EAAOI,gBAAgB,GAEhBJ,EAAOK,UAPhB9C,EAAAiB,EAAAU,EAAA,sBAAAM,0DCOAc,EAAAC,QAGA,SAAAC,EAAAC,EAAAC,GAMA,IAFAD,IAFAD,GAAA,IAEAZ,SAEA,SAAAY,EAEAE,GAAA,IAAAA,MAAA,KAIA,UAFAA,GAAA,KAEAD,EAAA,UAAAE,EAAAF,GAAAD,EAEA,IAAAI,EAAA,GAEA,KAEA,EAAAH,IAAAG,GAAAF,GAEAD,IAAA,GAIAC,KAKA,OAAAE,EAAAJ,GA/BA,IAAAG,EAAA,uXCLaE,EAAkB,kBAClBC,EAAgB,gBAChBC,EAAwB,wBACxBC,EAAuB,uBACvBC,EAAuB,uBACvBC,EAAyB,yBACzBC,EAAyB,yBACzBC,EAAgC,gCAChCC,EAAwB,wBACxBC,EAA+B,+BAC/BC,EAA4B,4BAC5BC,EAAmC,mCACnCC,EAA4B,4BAC5BC,EAAmC,mCACnCC,EAA6B,6BAC7BC,EAA2B,2BAC3BC,EAA6B,6BAC7BC,EAA2B,2BAC3BC,EAA+B,+BAC/BC,EAA0B,0BAC1BC,EAAwB,wBAc9B,SAASC,EAAcC,GAC5B,MAAO,CACLC,KAAMrB,EACNoB,WAGG,SAASE,EAAaF,GAC3B,MAAO,CACLC,KAAMpB,EACNmB,uOCpBW,IAAAG,EAAA,CACbC,KADa,WACc,IAAtBC,EAAsB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAd,KAAM8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACjBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKvB,EACH,OAAOsB,EACT,QACE,OAAOK,IAGbE,GAVa,WAUY,IAAtBF,EAAsB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAd,KAAM8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACfuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKtB,EACH,OAAOqB,EACT,QACE,OAAOK,IAGbnD,WAnBa,WAmB8B,IAAhCmD,EAAgC7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAxBH,YAAG,IAAIM,MAAS2C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACjCuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKrB,EACH,OAAOoB,EACT,QACE,OAAOK,IAGbG,UA5Ba,WA4BoB,IAAvBH,EAAuB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAAR8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACvBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKpB,EACH,OAAOmB,EACT,KAAKb,EACH,OAAOsB,QAAQT,EAAQ,IAAMA,EAAQ,IACvC,QACE,OAAOK,IAGbK,UAvCa,WAuCyC,IAA5CL,EAA4C7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApCmD,IAAeC,YAAaN,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5CuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKnB,EACH,OAAOkB,EACT,QACE,OAAOK,IAGbQ,YAhDa,WAgDsB,IAAvBR,EAAuB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAAR8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACzBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKlB,EACH,OAAOiB,EACT,QACE,OAAOK,IAGbS,YAzDa,WAyDmB,IAApBT,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACtBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKjB,EACH,OAAOgB,EACT,QACE,OAAOK,IAGbU,mBAlEa,WAkE0B,IAApBV,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC7BuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKhB,EACH,OAAOe,EACT,QACE,OAAOK,IAGbW,WA3Ea,WA2EkB,IAApBX,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKf,EACH,OAAOc,EACT,QACE,OAAOK,IAGbY,kBApFa,WAoFyB,IAApBZ,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC5BuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKd,EACH,OAAOa,EACT,KAAKnB,EACH,IAAM2B,EAAYR,EACZkB,uVAAkBhH,CAAA,GAAQmG,GAShC,OAPIG,GACFU,EAAmB,IAAK,EACxBA,EAAmB,IAAK,WAEjBA,EAAmB,UACnBA,EAAmB,IAErBA,EAET,QACE,OAAOb,IAGbc,eA1Ga,WA0GsB,IAApBd,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACzBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKb,EACH,OAAOY,EACT,QACE,OAAOK,IAGbe,sBAnHa,WAmH6B,IAApBf,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChCuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKZ,EACH,OAAOW,EACT,QACE,OAAOK,IAGbgB,eA5Ha,WA4HsB,IAApBhB,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACzBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKX,EACH,OAAOU,EACT,QACE,OAAOK,IAGbiB,sBArIa,WAqI6B,IAApBjB,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChCuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKV,EACH,OAAOS,EACT,QACE,OAAOK,IAGbkB,gBA9Ia,WA8IsB,IAAnBlB,EAAmB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAX,EAAG8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACzBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKT,EACH,OAAOQ,EACT,QACE,OAAOK,IAGbmB,cAvJa,WAuJqB,IAApBnB,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKR,EACH,OAAOO,EACT,QACE,OAAOK,IAGboB,gBAhKa,WAgKsB,IAAnBpB,EAAmB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAX,EAAG8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACzBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKP,EACH,OAAOM,EACT,QACE,OAAOK,IAGbqB,cAzKa,WAyKqB,IAApBrB,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKN,EACH,OAAOK,EACT,QACE,OAAOK,IAGbsB,kBAlLa,WAkL4B,IAAvBtB,EAAuB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAAR8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC/BuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKL,EACH,OAAOI,EACT,QACE,OAAOK,IAGbuB,aA3La,WA2LuB,IAAvBvB,EAAuB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAAR8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC1BuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKJ,EACH,OAAOG,EACT,QACE,OAAOK,IAGbwB,UApMa,WAoMiB,IAApBxB,EAAoB7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAZ,GAAI8C,EAAQ9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpBuC,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QACd,OAAQC,GACN,KAAKH,EACH,OAAOE,EACT,QACE,OAAOK,aC9NAyB,cACbC,YAAgB5B,GAChB,CACEC,KAAM,KACNG,GAAI,KACJrD,WAAYG,YAAGM,KAAKC,OACpB4C,WAAW,EACXqB,UAAW,GACXnB,UAAWC,IAAeC,YAC1BC,aAAa,EACbC,YAAa,GACbC,mBAAoB,GACpBC,WAAY,GACZC,kBAAmB,GACnBE,eAAgB,GAChBC,sBAAuB,GACvBC,eAAgB,GAChBC,sBAAuB,GACvBC,gBAAiB,EACjBC,cAAe,GACfC,gBAAiB,EACjBC,cAAe,GACfC,mBAAmB,EACnBC,cAAc,GAEhBI,YAAgBC,oEC1BlB,SAASC,EAASrG,GAAO,IACfsG,EAAkFtG,EAAlFsG,MAAOC,EAA2EvG,EAA3EuG,MAAOC,EAAoExG,EAApEwG,SAAUC,EAA0DzG,EAA1DyG,SAAUC,EAAgD1G,EAAhD0G,YAAazG,EAAmCD,EAAnCC,KAAM0G,EAA6B3G,EAA7B2G,KAAMC,EAAuB5G,EAAvB4G,SAAUC,EAAa7G,EAAb6G,SAEvE3I,EAAMqC,kBAAQ,WAClB,OAAO,IAAIuG,IAAI,eACZC,UAAU,WAAYP,GACtBO,UAAU,WAAYN,GACtBM,UAAU,cAAeL,GACzBK,UAAU,OAAQ9G,GAClB+G,YACF,CAACP,EAAUD,EAAUvG,EAAMyG,IAE9B,OACEO,EAAArG,EAAAC,cAAA,MAAIC,UAAU,aACZmG,EAAArG,EAAAC,cAAA,KAAGqG,KAAMhJ,GACP+I,EAAArG,EAAAC,cAAA,QAAMC,UAAU,aACdmG,EAAArG,EAAAC,cAAA,UAAKyF,GACLW,EAAArG,EAAAC,cAAA,WACAoG,EAAArG,EAAAC,cAAA,MAAIC,UAAU,YACXyF,EADH,IACUU,EAAArG,EAAAC,cAAA,KAAGC,UAAU,cAAc+F,KAGvCI,EAAArG,EAAAC,cAAA,QAAMC,UAAU,iBACdmG,EAAArG,EAAAC,cAAA,UACEoG,EAAArG,EAAAC,cAAA,KAAGC,UAAU,6BAAb,UACC0F,GAEHS,EAAArG,EAAAC,cAAA,WACAoG,EAAArG,EAAAC,cAAA,MAAIC,UAAU,YACZmG,EAAArG,EAAAC,cAAA,KAAGC,UAAU,2BAAb,UACC2F,IAGLQ,EAAArG,EAAAC,cAAA,QAAMC,UAAU,cACdmG,EAAArG,EAAAC,cAAA,UAAK6F,GACLO,EAAArG,EAAAC,cAAA,WACAoG,EAAArG,EAAAC,cAAA,MAAIC,UAAU,YAAY6F,IAE5BM,EAAArG,EAAAC,cAAA,QAAMC,UAAU,eACdmG,EAAArG,EAAAC,cAAA,UAAK+F,GACLK,EAAArG,EAAAC,cAAA,WACAoG,EAAArG,EAAAC,cAAA,MAAIC,UAAU,mBAAd,yBAmBV,IAeeqG,EAfFpH,eAAK,SAAcC,GAAO,IAC7BoH,EAASpH,EAAToH,KACR,OACEH,EAAArG,EAAAC,cAAA,MAAIC,UAAU,QACXsG,EAAKC,IAAI,SAAAC,GAAI,OACZL,EAAArG,EAAAC,cAACwF,EAADkB,OAAAC,OAAA,CAAUC,IAAKH,EAAKZ,aAAiBY,2DCsG9BI,GAtKA3H,eAAK,SAAgBC,GAAO,IACjC2H,EAA4E3H,EAA5E2H,MAAOC,EAAqE5H,EAArE4H,kBAAmBC,EAAkD7H,EAAlD6H,gBAAiBC,EAAiC9H,EAAjC8H,eAAgBC,EAAiB/H,EAAjB+H,aAE7DC,ECPO,WAAsB,IAAAC,EACPC,mBAASC,SAASC,gBAAgBC,aAD3BC,EAAAf,OAAAgB,EAAA,EAAAhB,CAAAU,EAAA,GAC1BO,EAD0BF,EAAA,GACnBG,EADmBH,EAAA,GAAAI,EAELR,mBAASC,SAASC,gBAAgBO,cAF7BC,EAAArB,OAAAgB,EAAA,EAAAhB,CAAAmB,EAAA,GAE1BG,EAF0BD,EAAA,GAElBE,EAFkBF,EAAA,GAI3BG,EAAW,WACbN,EAASN,SAASC,gBAAgBC,aAClCS,EAAUX,SAASC,gBAAgBO,eAWvC,OARAK,oBAAU,WAGN,OAFAC,OAAOC,iBAAiB,SAAUH,GAAU,GAErC,WACHE,OAAOE,oBAAoB,SAAUJ,GAAU,KAEpD,IAEI,CAAEP,QAAOK,UDVFO,GAEVC,EAAcC,mBACdC,EAAYD,mBAEZE,EAAaF,mBACbG,EAAWH,mBAEXI,EAAQJ,mBACRK,EAAaL,mBAEbM,EAAwBN,iBAAO1B,GAC/BiC,EAAsBP,iBAAOzB,GAfMI,EAiBfC,mBAAS,kBAAON,EAAoB,GAAM,MAjB3BU,EAAAf,OAAAgB,EAAA,EAAAhB,CAAAU,EAAA,GAiBlC6B,EAjBkCxB,EAAA,GAiB3ByB,EAjB2BzB,EAAA,GAAAI,EAkBnBR,mBAAS,kBAAOL,EAAkB,GAAM,MAlBrBe,EAAArB,OAAAgB,EAAA,EAAAhB,CAAAmB,EAAA,GAkBlCsB,EAlBkCpB,EAAA,GAkB7BqB,EAlB6BrB,EAAA,GAoBrCgB,EAAsBM,UAAYtC,IACpCmC,EAAUnC,EAAoB,GAAM,KACpCgC,EAAsBM,QAAUtC,GAG9BiC,EAAoBK,UAAYrC,IAClCoC,EAAQpC,EAAkB,GAAM,KAChCgC,EAAoBK,QAAUrC,GAGhC,IAAMsC,EAAe5J,kBAAQ,WAC3B,OAAIuJ,EAAQ,IACH,IAGLA,EAAQ,EACH,EAGFA,GACN,CAACA,IAEEM,EAAa7J,kBAAQ,WACzB,OAAIyJ,EAAM,IACD,IAGLA,EAAM,EACD,EAGFA,GACN,CAACA,IAEEK,EAAa9J,kBAAQ,WACzB,OAAO+J,KAAKC,MAAsB,GAAfJ,EAAqB,MACvC,CAACA,IAEEK,EAAWjK,kBAAQ,WACvB,OAAO+J,KAAKC,MAAoB,GAAbH,EAAmB,MACrC,CAACA,IAEEK,EAAYlK,kBAAQ,WACxB,OAAOmK,IAAQL,EAAY,EAAG,KAAO,OACpC,CAACA,IAEEM,EAAUpK,kBAAQ,WACtB,OAAOmK,IAAQF,EAAU,EAAG,KAAO,OAClC,CAACA,IAEJ,SAASI,EAAkBC,GACzB,IAAMC,EAAQD,EAAEE,cAAc,GAC9BvB,EAAWU,QAAUY,EAAME,MAG7B,SAASC,EAAgBJ,GACvB,IAAMC,EAAQD,EAAEE,cAAc,GAC9BtB,EAASS,QAAUY,EAAME,MAG3B,SAASE,EAAiBL,GACxB,IAAMC,EAAQD,EAAEE,cAAc,GACxBI,EAAWL,EAAME,MAAQxB,EAAWU,QAC1CV,EAAWU,QAAUY,EAAME,MAE3BjB,EAAS,SAAAD,GAAK,OAAIA,EAASqB,EAAWxB,EAAWO,QAAW,MAG9D,SAASkB,EAAeP,GACtB,IAAMC,EAAQD,EAAEE,cAAc,GACxBI,EAAWL,EAAME,MAAQvB,EAASS,QACxCT,EAASS,QAAUY,EAAME,MAEzBf,EAAO,SAAAD,GAAG,OAAIA,EAAOmB,EAAWxB,EAAWO,QAAW,MA6BxD,OA1BAlB,oBAAU,WACRW,EAAWO,QAAUmB,WAAWpC,OAAOqC,iBAAiB5B,EAAMQ,SAAS1B,QACtE,CAACR,EAAQQ,QAEZQ,oBAAU,WAMR,OALAK,EAAYa,QAAQhB,iBAAiB,aAAc0B,GAAmB,GACtEvB,EAAYa,QAAQhB,iBAAiB,YAAagC,GAAkB,GACpE3B,EAAUW,QAAQhB,iBAAiB,aAAc+B,GAAiB,GAClE1B,EAAUW,QAAQhB,iBAAiB,YAAakC,GAAgB,GAEzD,WACL/B,EAAYa,QAAQf,oBAAoB,aAAcyB,GAAmB,GACzEvB,EAAYa,QAAQf,oBAAoB,YAAa+B,GAAkB,GACvE3B,EAAUW,QAAQf,oBAAoB,aAAc8B,GAAiB,GACrE1B,EAAUW,QAAQf,oBAAoB,YAAaiC,GAAgB,MAIvEpC,oBAAU,WACRlB,EAAeuC,IACd,CAACvC,EAAgBuC,IAEpBrB,oBAAU,WACRjB,EAAayC,IACZ,CAACA,EAAUzC,IAGZd,EAAArG,EAAAC,cAAA,OAAKC,UAAU,UACbmG,EAAArG,EAAAC,cAAA,UAAK8G,GACLV,EAAArG,EAAAC,cAAA,OAAKC,UAAU,gBACbmG,EAAArG,EAAAC,cAAA,OAAKC,UAAU,SAASyK,IAAK7B,GAC3BzC,EAAArG,EAAAC,cAAA,OACEC,UAAU,eACV0K,MAAO,CACLC,KAAMtB,EAAe,IACrB3B,MAAO4B,EAAaD,EAAe,OAGvClD,EAAArG,EAAAC,cAAA,KACE0K,IAAKlC,EACLvI,UAAU,gBACV0K,MAAO,CACLC,KAAMtB,EAAe,MAGvBlD,EAAArG,EAAAC,cAAA,YAAO4J,IAETxD,EAAArG,EAAAC,cAAA,KACE0K,IAAKhC,EACLzI,UAAU,gBACV0K,MAAO,CACLC,KAAMrB,EAAa,MAGrBnD,EAAArG,EAAAC,cAAA,YAAO8J,skBEtJnB,SAASe,GAAelH,EAAOC,GAAQ,IAEjCkH,EADIvH,EAAkBK,EAAlBL,KAAMD,EAAYM,EAAZN,QAGd,OAAQC,GACN,IAAK,SAOH,OALID,KADJwH,EAAQC,GAAA,GAAQpH,WAEPmH,EAASxH,GAEhBwH,EAASxH,IAAW,EAEfwH,EACT,IAAK,QACH,MAAO,GAIX,OAAOnH,EAGT,IAAMqH,GAAS9L,eAAK,SAASC,GAAO,IAC1B8L,EAAmC9L,EAAnC8L,KAAMC,EAA6B/L,EAA7B+L,MAAOC,EAAsBhM,EAAtBgM,QAASC,EAAajM,EAAbiM,SAC9B,OACEhF,EAAArG,EAAAC,cAAA,MACEC,UAAWC,IAAW,CAAEiL,YACxB/K,QAAS,kBAAMgL,EAAS,CAAE9H,QAAS4H,EAAO3H,KAAM,aAE/C0H,KAWDI,GAAUnM,eAAK,SAASC,GAAO,IAC3B2H,EAAyC3H,EAAzC2H,MAAOxJ,EAAkC6B,EAAlC7B,QAASgO,EAAyBnM,EAAzBmM,WAAYF,EAAajM,EAAbiM,SAEpC,OACEhF,EAAArG,EAAAC,cAAA,OAAKC,UAAU,UACbmG,EAAArG,EAAAC,cAAA,UAAK8G,GACLV,EAAArG,EAAAC,cAAA,UACG1C,EAAQkJ,IAAI,SAAA+E,GACX,OACEnF,EAAArG,EAAAC,cAACgL,GAADtE,OAAAC,OAAA,CACEC,IAAK2E,EAAOL,OACRK,EAFN,CAGEJ,QAASI,EAAOL,SAASI,EACzBF,SAAUA,WA6NTI,OA7Mf,SAAqBrM,GAAO,IAExBiF,EAqBEjF,EArBFiF,YACAE,EAoBEnF,EApBFmF,WACAG,EAmBEtF,EAnBFsF,eACAE,EAkBExF,EAlBFwF,eACAN,EAiBElF,EAjBFkF,mBACAE,EAgBEpF,EAhBFoF,kBACAG,EAeEvF,EAfFuF,sBACAE,EAcEzF,EAdFyF,sBACAC,EAaE1F,EAbF0F,gBACAC,EAYE3F,EAZF2F,cACAC,EAWE5F,EAXF4F,gBACAC,EAUE7F,EAVF6F,cACAyG,EASEtM,EATFsM,sBACAC,EAQEvM,EARFuM,qBACAC,EAOExM,EAPFwM,yBACAC,EAMEzM,EANFyM,yBACAC,EAKE1M,EALF0M,mBACAC,EAIE3M,EAJF2M,iBACAC,EAGE5M,EAHF4M,mBACAC,EAEE7M,EAFF6M,iBACAC,EACE9M,EADF8M,uBAtBwBC,EAyByCC,qBACjEtB,GACAxG,EACA,SAAAA,GAAkB,OAAA0G,GAAA,GACb1G,KA7BmB+H,EAAA1F,OAAAgB,EAAA,EAAAhB,CAAAwF,EAAA,GAyBnBG,EAzBmBD,EAAA,GAyBME,EAzBNF,EAAA,GAAAG,EAiCuCJ,qBAC/DtB,GACAtG,EACA,SAAAA,GAAiB,OAAAwG,GAAA,GACZxG,KArCmBiI,EAAA9F,OAAAgB,EAAA,EAAAhB,CAAA6F,EAAA,GAiCnBE,EAjCmBD,EAAA,GAiCKE,EAjCLF,EAAA,GAAAG,EAyC+CR,qBACvEtB,GACAnG,EACA,SAAAA,GAAqB,OAAAqG,GAAA,GAChBrG,KA7CmBkI,EAAAlG,OAAAgB,EAAA,EAAAhB,CAAAiG,EAAA,GAyCnBE,EAzCmBD,EAAA,GAyCSE,EAzCTF,EAAA,GAAAG,EAiD+CZ,qBACvEtB,GACAjG,EACA,kBAAAmG,GAAA,GACKnG,KArDmBoI,EAAAtG,OAAAgB,EAAA,EAAAhB,CAAAqG,EAAA,GAiDnBE,EAjDmBD,EAAA,GAiDSE,EAjDTF,EAAA,GAAA5F,EAyD8BC,mBAASxC,GAzDvC4C,EAAAf,OAAAgB,EAAA,EAAAhB,CAAAU,EAAA,GAyDnB+F,EAzDmB1F,EAAA,GAyDG2F,EAzDH3F,EAAA,GAAAI,EA0D0BR,mBAASvC,GA1DnCiD,EAAArB,OAAAgB,EAAA,EAAAhB,CAAAmB,EAAA,GA0DnBwF,EA1DmBtF,EAAA,GA0DCuF,EA1DDvF,EAAA,GAAAwF,EA2D8BlG,mBAAStC,GA3DvCyI,EAAA9G,OAAAgB,EAAA,EAAAhB,CAAA6G,EAAA,GA2DnBE,EA3DmBD,EAAA,GA2DGE,EA3DHF,EAAA,GAAAG,GA4D0BtG,mBAASrC,GA5DnC4I,GAAAlH,OAAAgB,EAAA,EAAAhB,CAAAiH,GAAA,GA4DnBE,GA5DmBD,GAAA,GA4DCE,GA5DDF,GAAA,GA8DpBG,GAAc,CAClB,CACEjH,MAAO,2BACPxJ,QAAS8G,EACTkH,WAAYe,EACZjB,SAAUkB,GAEZ,CACExF,MAAO,2BACPxJ,QAASgH,EACTgH,WAAYmB,EACZrB,SAAUsB,GAEZ,CACE5F,MAAO,2BACPxJ,QAASmH,EACT6G,WAAYuB,EACZzB,SAAU0B,GAEZ,CACEhG,MAAO,2BACPxJ,QAASqH,EACT2G,WAAY2B,EACZ7B,SAAU8B,IAkBRc,GAAkBtO,kBAAQ,WAC9B,OACkD,IAAhDgH,OAAOuH,KAAK5B,GAAyBtL,QACU,IAA/C2F,OAAOuH,KAAKxB,GAAwB1L,QACe,IAAnD2F,OAAOuH,KAAKpB,GAA4B9L,QACW,IAAnD2F,OAAOuH,KAAKhB,GAA4BlM,QACf,IAAzBoM,GACuB,KAAvBE,GACyB,IAAzBI,GACuB,KAAvBI,IAED,CACDxB,EACAI,EACAI,EACAI,EACAE,EACAE,EACAI,EACAI,KAkBF,OACEzH,EAAArG,EAAAC,cAAA,OAAKC,UAAU,gBACbmG,EAAArG,EAAAC,cAAA,OAAKC,UAAU,iBACbmG,EAAArG,EAAAC,cAAA,OAAKC,UAAU,yBACbmG,EAAArG,EAAAC,cAAA,OAAKC,UAAU,SACbmG,EAAArG,EAAAC,cAAA,QACEC,UAAWC,IAAW,QAAS,CAC7BgO,SAAUF,KAEZ5N,QAxBZ,WACM4N,KAIJ1B,EAAgC,CAAE/I,KAAM,UACxCmJ,EAA+B,CAAEnJ,KAAM,UACvCuJ,EAAmC,CAAEvJ,KAAM,UAC3C2J,EAAmC,CAAE3J,KAAM,UAC3C6J,EAAwB,GACxBE,EAAsB,IACtBI,EAAwB,GACxBI,GAAsB,OAQd,gBAQA1H,EAAArG,EAAAC,cAAA,QAAMC,UAAU,KAAKG,QAhElB,WACXqL,EAAsBY,GACtBX,EAAqBe,GACrBd,EAAyBkB,GACzBjB,EAAyBqB,GAEzBpB,EAAmBsB,GACnBrB,EAAiBuB,GACjBtB,EAAmB0B,GACnBzB,EAAiB6B,IAEjB5B,MAqDQ,iBAIF7F,EAAArG,EAAAC,cAAA,OAAKC,UAAU,WACZ8N,GAAYvH,IAAI,SAAA2H,GAAK,OACpB/H,EAAArG,EAAAC,cAACqL,GAAD3E,OAAAC,OAAA,CAASC,IAAKuH,EAAMrH,OAAWqH,MAEjC/H,EAAArG,EAAAC,cAACoO,GAAD,CACEtH,MAAM,2BACNC,kBAAmBoG,EACnBnG,gBAAiBqG,EACjBpG,eAAgBmG,EAChBlG,aAAcoG,IAEhBlH,EAAArG,EAAAC,cAACoO,GAAD,CACEtH,MAAM,2BACNC,kBAAmB0G,EACnBzG,gBAAiB6G,GACjB5G,eAAgByG,EAChBxG,aAAc4G,gBChPb,SAASO,GAAOlP,GAAO,IAElC2E,EA6BE3E,EA7BF2E,UACAE,EA4BE7E,EA5BF6E,UACAG,EA2BEhF,EA3BFgF,YACAc,EA0BE9F,EA1BF8F,kBACAqJ,EAyBEnP,EAzBFmP,gBACAC,EAwBEpP,EAxBFoP,gBACAC,EAuBErP,EAvBFqP,kBACAvC,EAsBE9M,EAtBF8M,uBAEA7H,EAoBEjF,EApBFiF,YACAE,EAmBEnF,EAnBFmF,WACAG,EAkBEtF,EAlBFsF,eACAE,EAiBExF,EAjBFwF,eACAN,EAgBElF,EAhBFkF,mBACAE,EAeEpF,EAfFoF,kBACAG,EAcEvF,EAdFuF,sBACAE,EAaEzF,EAbFyF,sBACAC,EAYE1F,EAZF0F,gBACAC,EAWE3F,EAXF2F,cACAC,EAUE5F,EAVF4F,gBACAC,EASE7F,EATF6F,cACAyG,EAQEtM,EARFsM,sBACAC,EAOEvM,EAPFuM,qBACAC,EAMExM,EANFwM,yBACAC,EAKEzM,EALFyM,yBACAC,EAIE1M,EAJF0M,mBACAC,EAGE3M,EAHF2M,iBACAC,EAEE5M,EAFF4M,mBACAC,EACE7M,EADF6M,iBAGIyC,EAAY/O,kBAAQ,WACxB,OAC6C,IAA3CgH,OAAOuH,KAAK5J,GAAoBtD,QACU,IAA1C2F,OAAOuH,KAAK1J,GAAmBxD,QACe,IAA9C2F,OAAOuH,KAAKvJ,GAAuB3D,QACW,IAA9C2F,OAAOuH,KAAKrJ,GAAuB7D,QACf,IAApB8D,GACkB,KAAlBC,GACoB,IAApBC,GACkB,KAAlBC,GAED,CACDX,EACAE,EACAG,EACAE,EACAC,EACAC,EACAC,EACAC,IAEF,OACEoB,EAAArG,EAAAC,cAAA,OAAKC,UAAU,UACbmG,EAAArG,EAAAC,cAAA,OAAKC,UAAU,kBACbmG,EAAArG,EAAAC,cAAA,QAAMC,UAAU,OAAOG,QAASmO,GAC9BnI,EAAArG,EAAAC,cAAA,KAAGC,UAAU,QAAb,UACC+D,IAAcC,IAAeC,YAAc,kCAAW,mCAGzDkC,EAAArG,EAAAC,cAAA,QAAMC,UAAWC,IAAW,OAAQ,CAAEwO,UAAW5K,IAAc1D,QAASkO,GACtElI,EAAArG,EAAAC,cAAA,KAAGC,UAAU,QAAQ6D,EAAY,SAAW,UAD9C,wCAKAsC,EAAArG,EAAAC,cAAA,QACEC,UAAWC,IAAW,OAAQ,CAAEwO,UAAWvK,IAC3C/D,QAASoO,GAETpI,EAAArG,EAAAC,cAAA,KAAGC,UAAU,QAAQkE,EAAc,SAAW,UAJhD,4BAQAiC,EAAArG,EAAAC,cAAA,QACEC,UAAWC,IAAW,OAAQ,CAAEwO,UAAWzJ,IAAsBwJ,IACjErO,QAAS6L,GAET7F,EAAArG,EAAAC,cAAA,KAAGC,UAAU,QAAQwO,EAAY,SAAW,UAJ9C,6BAQDxJ,EACCmB,EAAArG,EAAAC,cAAC2O,GAAD,CACEvK,YAAaA,EACbE,WAAYA,EACZG,eAAgBA,EAChBE,eAAgBA,EAChBN,mBAAoBA,EACpBE,kBAAmBA,EACnBG,sBAAuBA,EACvBE,sBAAuBA,EACvBC,gBAAiBA,EACjBC,cAAeA,EACfC,gBAAiBA,EACjBC,cAAeA,EACfyG,sBAAuBA,EACvBC,qBAAsBA,EACtBC,yBAA0BA,EAC1BC,yBAA0BA,EAC1BC,mBAAoBA,EACpBC,iBAAkBA,EAClBC,mBAAoBA,EACpBC,iBAAkBA,EAClBC,uBAAwBA,IAExB,yBC2EK2C,mBACb,SAAAjL,GAAK,OAAIA,GACT,CACEkL,QRvKG,SAAiBvL,GACtB,MAAO,CACLC,KAAMvB,EACNsB,YQqKAwL,MRlKG,SAAexL,GACpB,MAAO,CACLC,KAAMtB,EACNqB,YQgKAD,gBACAG,eACAuL,gBRrCG,SAAyBzL,GAC9B,MAAO,CACLC,KAAMJ,EACNG,YQmCA0L,gBRVG,SAAyB1L,GAC9B,OAAO,SAAA8H,GACLhO,YAAO,GAAA6R,OAAIC,kEAAJ,0BAAAD,OAA0DE,oBAAU7L,KAAYxF,KACrF,SAAAC,GAAY,IAAAqR,EACOrR,EAATsR,KAENC,QACEC,gBACEC,EALIJ,EAKJI,OALIC,EAAAL,EAMJM,OAAUC,EANNF,EAMME,WAAYC,EANlBH,EAMkBG,UAAWC,EAN7BJ,EAM6BI,WAAYC,EANzCL,EAMyCK,WAKnD1E,EApBC,CACL7H,KAAMH,EACNE,QAkB0BkM,IACtBpE,EA5HD,SAAwB9H,GAC7B,MAAO,CACLC,KAAMjB,EACNgB,WAyHayM,CAAeJ,IACxBvE,EAjHD,SAAuB9H,GAC5B,MAAO,CACLC,KAAMf,EACNc,WA8Ga0M,CAAcJ,IACvBxE,EAtGD,SAA2B9H,GAChC,MAAO,CACLC,KAAMb,EACNY,WAmGa2M,CAAkBJ,IAC3BzE,EA3FD,SAA2B9H,GAChC,MAAO,CACLC,KAAMX,EACNU,WAwFa4M,CAAkBJ,QQP/BpP,WRhCG,WACL,OAAO,SAAC0K,EAAU+E,GAEhB/E,EAAS/H,EADc8M,IAAf3P,WAC4B,UQ8BpCC,WR1BG,WACL,OAAO,SAAC2K,EAAU+E,GAEhB/E,EAAS/H,EADc8M,IAAf3P,WAC4B,UQwBpC8N,gBRtJG,WACL,OAAO,SAAClD,EAAU+E,GAEhB/E,EAAS5H,GADa2M,IAAdrM,cQqJRyK,gBRhJG,WACL,OAAO,SAACnD,EAAU+E,GAAa,IACrBnM,EAAcmM,IAAdnM,UACRoH,EAAS,CACP7H,KAAMnB,EACNkB,QACEU,IAAcC,IAAeC,YACzBD,IAAemM,cACfnM,IAAeC,gBQyIvBsK,kBRrIG,WACL,OAAO,SAACpD,EAAU+E,GAAa,IACrBhM,EAAgBgM,IAAhBhM,YACRiH,EAAS,CACP7H,KAAMlB,EACNiB,SAAUa,MQiIZ8H,uBRrDG,WACL,OAAO,SAACb,EAAU+E,GAAa,IACrBlL,EAAsBkL,IAAtBlL,kBACRmG,EAAS,CACP7H,KAAML,EACNI,SAAU2B,MQiDZwG,sBRxHG,SAA+BnI,GACpC,MAAO,CACLC,KAAMhB,EACNe,YQsHAoI,qBR7GG,SAA8BpI,GACnC,MAAO,CACLC,KAAMd,EACNa,YQ2GAqI,yBRlGG,SAAkCrI,GACvC,MAAO,CACLC,KAAMZ,EACNW,YQgGAsI,yBRvFG,SAAkCtI,GACvC,MAAO,CACLC,KAAMV,EACNS,YQqFAuI,mBRlFG,SAA4BvI,GACjC,MAAO,CACLC,KAAMT,EACNQ,YQgFAwI,iBR7EG,SAA0BxI,GAC/B,MAAO,CACLC,KAAMR,EACNO,YQ2EAyI,mBRxEG,SAA4BzI,GACjC,MAAO,CACLC,KAAMP,EACNM,YQsEA0I,iBRnEG,SAA0B1I,GAC/B,MAAO,CACLC,KAAMN,EACNK,aQ0CWsL,CA3Jf,SAAazP,GAAO,IAEhBuE,EAyCEvE,EAzCFuE,KACAG,EAwCE1E,EAxCF0E,GACArD,EAuCErB,EAvCFqB,WACAsD,EAsCE3E,EAtCF2E,UACAE,EAqCE7E,EArCF6E,UACAG,EAoCEhF,EApCFgF,YACAc,EAmCE9F,EAnCF8F,kBACAC,EAkCE/F,EAlCF+F,aACA2J,EAiCE1P,EAjCF0P,QACAC,EAgCE3P,EAhCF2P,MACAzL,EA+BElE,EA/BFkE,cACAG,EA8BErE,EA9BFqE,aACAuL,EA6BE5P,EA7BF4P,gBACAC,EA4BE7P,EA5BF6P,gBACAtO,EA2BEvB,EA3BFuB,WACAD,EA0BEtB,EA1BFsB,WACA0E,EAyBEhG,EAzBFgG,UACAmJ,EAwBEnP,EAxBFmP,gBACAC,EAuBEpP,EAvBFoP,gBACAC,EAsBErP,EAtBFqP,kBACAvC,EAqBE9M,EArBF8M,uBACA7H,EAoBEjF,EApBFiF,YACAE,EAmBEnF,EAnBFmF,WACAG,EAkBEtF,EAlBFsF,eACAE,EAiBExF,EAjBFwF,eACAN,EAgBElF,EAhBFkF,mBACAE,EAeEpF,EAfFoF,kBACAG,EAcEvF,EAdFuF,sBACAE,EAaEzF,EAbFyF,sBACAC,EAYE1F,EAZF0F,gBACAC,EAWE3F,EAXF2F,cACAC,EAUE5F,EAVF4F,gBACAC,EASE7F,EATF6F,cACAyG,EAQEtM,EARFsM,sBACAC,EAOEvM,EAPFuM,qBACAC,EAMExM,EANFwM,yBACAC,EAKEzM,EALFyM,yBACAC,EAIE1M,EAJF0M,mBACAC,EAGE3M,EAHF2M,iBACAC,EAEE5M,EAFF4M,mBACAC,EACE7M,EADF6M,iBAEIqE,EAASzP,sBAAY,WACzBwH,OAAOkI,QAAQC,QACd,IACHpI,oBAAU,WACR,IAAMqI,EAAcvK,IAAIwK,WAAWrI,OAAOsI,SAASC,QAC3CjN,EAA8B8M,EAA9B9M,KAAMG,EAAwB2M,EAAxB3M,GAAIzE,EAAoBoR,EAApBpR,KAAM0E,EAAc0M,EAAd1M,UACxB+K,EAAQnL,GACRoL,EAAMjL,GACNR,EAAc1C,YAAGf,IAAMR,KACvBoE,EAA2B,SAAdM,GACbiL,GAAgB,IACf,CAAC1L,EAAewL,EAASrL,EAAcuL,EAAiBD,IAE3D3G,oBAAU,WACHjD,GAGL8J,EAAgB,CACdtL,OACAG,KACArD,WAAYZ,IAAMY,GAAYX,OAAO,cACrCiE,YACAoB,eACAlB,YACAG,cACAE,mBAAoBqC,OAAOuH,KAAK5J,GAChCE,kBAAmBmC,OAAOuH,KAAK1J,GAC/BG,sBAAuBgC,OAAOuH,KAAKvJ,GACnCE,sBAAuB8B,OAAOuH,KAAKrJ,GACnCC,kBACAC,gBACAC,kBACAC,mBAED,CACDtB,EACAG,EACArD,EACAsD,EACAoB,EACAlB,EACAG,EACAE,EACAE,EACAG,EACAE,EACAC,EACAC,EACAC,EACAC,EACAgK,IA9FgB,IAAA4B,EAkGiDtQ,aACjEE,EACAC,EACAC,GAHMnB,EAlGUqR,EAkGVrR,cAAeC,EAlGLoR,EAkGKpR,eAAgBH,GAlGrBuR,EAkGqBvR,WAAYC,GAlGjCsR,EAkGiCtR,YAMnD,OAAK4F,EAKHkB,EAAArG,EAAAC,cAAA,WACEoG,EAAArG,EAAAC,cAAA,OAAKC,UAAU,kBACbmG,EAAArG,EAAAC,cAAC6Q,EAAA,EAAD,CAAQ/J,MAAK,GAAAmI,OAAKvL,EAAL,KAAAuL,OAAapL,GAAMwM,OAAQA,KAE1CjK,EAAArG,EAAAC,cAACf,EAAA,EAAD,CACEG,KAAMoB,EACNnB,WAAYA,GACZC,YAAaA,GACbC,cAAeA,EACfC,eAAgBA,IAElB4G,EAAArG,EAAAC,cAAC8Q,EAAD,CAAMvK,KAAMpB,IACZiB,EAAArG,EAAAC,cAAC+Q,GAAD,CACEjN,UAAWA,EACXE,UAAWA,EACXG,YAAaA,EACbc,kBAAmBA,EACnBqJ,gBAAiBA,EACjBC,gBAAiBA,EACjBC,kBAAmBA,EACnBvC,uBAAwBA,EACxB7H,YAAaA,EACbE,WAAYA,EACZG,eAAgBA,EAChBE,eAAgBA,EAChBN,mBAAoBA,EACpBE,kBAAmBA,EACnBG,sBAAuBA,EACvBE,sBAAuBA,EACvBC,gBAAiBA,EACjBC,cAAeA,EACfC,gBAAiBA,EACjBC,cAAeA,EACfyG,sBAAuBA,EACvBC,qBAAsBA,EACtBC,yBAA0BA,EAC1BC,yBAA0BA,EAC1BC,mBAAoBA,EACpBC,iBAAkBA,EAClBC,mBAAoBA,EACpBC,iBAAkBA,KA5Cf,OCnIXgF,IAASC,OACP7K,EAAArG,EAAAC,cAACkR,EAAA,EAAD,CAAUC,MAAOA,GACf/K,EAAArG,EAAAC,cAACoR,GAAD,OAEF9J,SAAS+J,eAAe,yCCZ1B3S,EAAAiB,EAAAU,EAAA,sBAAAiR,IAAA5S,EAAAiB,EAAAU,EAAA,sBAAA4D,IACO,IAAMqN,EAAsB,sBAGtBrN,EAAiB,CAC5BC,YAAa,EACbkM,cAAe,mCCNjB1R,EAAAiB,EAAAU,EAAA,sBAAAwQ,IAAA,IAAApS,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAC,EAAA,IAIe,SAASmS,EAAO1R,GAAO,IAC5BkR,EAAkBlR,EAAlBkR,OAAQvJ,EAAU3H,EAAV2H,MAChB,OACEnI,EAAAoB,EAAAC,cAAA,OAAKC,UAAU,UACbtB,EAAAoB,EAAAC,cAAA,OAAKC,UAAU,cAAcG,QAASiQ,GACpC1R,EAAAoB,EAAAC,cAAA,OAAK2H,MAAM,KAAKK,OAAO,MACrBrJ,EAAAoB,EAAAC,cAAA,YACEuR,OAAO,oBACPC,OAAO,OACPC,YAAY,IACZC,KAAK,WAIX/S,EAAAoB,EAAAC,cAAA,MAAIC,UAAU,gBAAgB6G","file":"static/js/query.71274549.chunk.js","sourcesContent":["// const codeMessage = {\n//   200: \"服务器成功返回请求的数据。\",\n//   201: \"新建或修改数据成功。\",\n//   202: \"一个请求已经进入后台排队（异步任务）。\",\n//   204: \"删除数据成功。\",\n//   400: \"发出的请求有错误，服务器没有进行新建或修改数据的操作。\",\n//   401: \"用户没有权限（令牌、用户名、密码错误）。\",\n//   403: \"用户得到授权，但是访问是被禁止的。\",\n//   404: \"发出的请求针对的是不存在的记录，服务器没有进行操作。\",\n//   406: \"请求的格式不可得。\",\n//   410: \"请求的资源被永久删除，且不会再得到的。\",\n//   422: \"当创建一个对象时，发生一个验证错误。\",\n//   500: \"服务器发生错误，请检查服务器。\",\n//   502: \"网关错误。\",\n//   503: \"服务不可用，服务器暂时过载或维护。\",\n//   504: \"网关超时。\",\n// };\n\nexport default function request(url, options) {\n  const defaultOptions = {\n    credentials: \"include\",\n    headers: new Headers({\n      \"Content-Type\": \"application/json\",\n    }),\n  };\n  const newOptions = {\n    ...defaultOptions,\n    ...options,\n  };\n  return fetch(url, newOptions)\n    .then(response => {\n      const { status, msg } = response;\n      if (status >= 200 && status < 300) {\n        return response;\n      }\n      const error = new Error(msg);\n      error.status = status;\n      error.response = response;\n      throw error;\n    })\n    .then(response => response.json())\n    .catch(err => {\n      console.log(\"网络请求失败！\");\n    });\n}\n","import React, { memo, useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/zh-cn\";\nimport \"./Nav.css\";\n\nconst Nav = memo(function Nav(props) {\n  const { date, onClickPre, onClickNext, isPreDisabled, isNextDisabled } = props;\n  const currentString = useMemo(() => {\n    const d = dayjs(date);\n    return d.format(\"M月D日\") + d.locale(\"zh-cn\").format(\"ddd\");\n  }, [date]);\n  return (\n    <div className=\"nav\">\n      <span\n        className={classnames(\"nav-prev\", { \"nav-disabled\": isPreDisabled })}\n        onClick={onClickPre}\n      >\n        前一天\n      </span>\n      <span className=\"nav-current\">{currentString}</span>\n      <span\n        className={classnames(\"nav-next\", { \"nav-disabled\": isNextDisabled })}\n        onClick={onClickNext}\n      >\n        后一天\n      </span>\n    </div>\n  );\n});\n\nNav.propTypes = {\n  date: PropTypes.number.isRequired,\n  onClickPre: PropTypes.func.isRequired,\n  onClickNext: PropTypes.func.isRequired,\n  isPreDisabled: PropTypes.bool.isRequired,\n  isNextDisabled: PropTypes.bool.isRequired,\n};\n\nexport default Nav;\n","/**\n * 自定义hook，封装Nav参数的处理\n */\n\nimport { useCallback } from \"react\";\nimport { h0 } from \"../utils/utils\";\n\nexport default function useNav(departDate, setPrevDay, setNextDay) {\n  const isPreDisabled = h0(departDate) <= h0();\n  const isNextDisabled = h0(departDate) - h0() > 20 * 86400 * 1000;\n\n  const onClickPre = useCallback(() => {\n    if (isPreDisabled) {\n      return;\n    }\n    setPrevDay();\n  }, [isPreDisabled, setPrevDay]);\n  const onClickNext = useCallback(() => {\n    if (isNextDisabled) {\n      return;\n    }\n    setNextDay();\n  }, [isNextDisabled, setNextDay]);\n\n  return {\n    isPreDisabled,\n    isNextDisabled,\n    onClickPre,\n    onClickNext,\n  };\n}\n","export function h0(timestamp = Date.now()) {\n  const target = new Date(timestamp);\n  target.setHours(0);\n  target.setMinutes(0);\n  target.setSeconds(0);\n  target.setMilliseconds(0);\n\n  return target.getTime();\n}\n","/* This program is free software. It comes without any warranty, to\n     * the extent permitted by applicable law. You can redistribute it\n     * and/or modify it under the terms of the Do What The Fuck You Want\n     * To Public License, Version 2, as published by Sam Hocevar. See\n     * http://www.wtfpl.net/ for more details. */\n'use strict';\n\nmodule.exports = leftPad;\nvar cache = ['', ' ', '  ', '   ', '    ', '     ', '      ', '       ', '        ', '         '];\n\nfunction leftPad(str, len, ch) {\n  // convert `str` to a `string`\n  str = str + ''; // `len` is the `pad`'s length now\n\n  len = len - str.length; // doesn't need to pad\n\n  if (len <= 0) return str; // `ch` defaults to `' '`\n\n  if (!ch && ch !== 0) ch = ' '; // convert `ch` to a `string` cuz it could be a number\n\n  ch = ch + ''; // cache common use cases\n\n  if (ch === ' ' && len < 10) return cache[len] + str; // `pad` starts with an empty string\n\n  var pad = ''; // loop\n\n  while (true) {\n    // add `ch` to `pad` if `len` is odd\n    if (len & 1) pad += ch; // divide `len` by 2, ditch the remainder\n\n    len >>= 1; // \"double\" the `ch` so this operation count grows logarithmically on `len`\n    // each time `ch` is \"doubled\", the `len` would need to be \"doubled\" too\n    // similar to finding a value in binary search tree, hence O(log(n))\n\n    if (len) ch += ch; // `len` is 0, exit the loop\n    else break;\n  } // pad `str`!\n\n\n  return pad + str;\n}","import { ORDER_TYPE_KEY } from \"../utils/constant\";\nimport { stringify } from \"qs\";\nimport request from \"../utils/request\";\nexport const ACTION_SET_FROM = \"ACTION_SET_FROM\";\nexport const ACTION_SET_TO = \"ACTION_SET_TO\";\nexport const ACTION_SET_DEPARTDATE = \"ACTION_SET_DEPARTDATE\";\nexport const ACTION_SET_HIGHSPEED = \"ACTION_SET_HIGHSPEED\";\nexport const ACTION_SET_ORDERTYPE = \"ACTION_SET_ORDERTYPE\";\nexport const ACTION_SET_ONLYTICKETS = \"ACTION_SET_ONLYTICKETS\";\nexport const ACTION_SET_TICKETTYPES = \"ACTION_SET_TICKETTYPES\";\nexport const ACTION_SET_CHECKEDTICKETTYPES = \"ACTION_SET_CHECKEDTICKETTYPES\";\nexport const ACTION_SET_TRAINTYPES = \"ACTION_SET_TRAINTYPES\";\nexport const ACTION_SET_CHECKEDTRAINTYPES = \"ACTION_SET_CHECKEDTRAINTYPES\";\nexport const ACTION_SET_DEPARTSTATIONS = \"ACTION_SET_DEPARTSTATIONS\";\nexport const ACTION_SET_CHECKEDDEPARTSTATIONS = \"ACTION_SET_CHECKEDDEPARTSTATIONS\";\nexport const ACTION_SET_ARRIVESTATIONS = \"ACTION_SET_ARRIVESTATIONS\";\nexport const ACTION_SET_CHECKEDARRIVESTATIONS = \"ACTION_SET_CHECKEDARRIVESTATIONS\";\nexport const ACTION_SET_DEPARTTIMESTART = \"ACTION_SET_DEPARTTIMESTART\";\nexport const ACTION_SET_DEPARTTIMEEND = \"ACTION_SET_DEPARTTIMEEND\";\nexport const ACTION_SET_ARRIVETIMESTART = \"ACTION_SET_ARRIVETIMESTART\";\nexport const ACTION_SET_ARRIVETIMEEND = \"ACTION_SET_ARRIVETIMEEND\";\nexport const ACTION_SET_ISFILLTERSVISIBLE = \"ACTION_SET_ISFILLTERSVISIBLE\";\nexport const ACTION_SET_SEARCHPARSED = \"ACTION_SET_SEARCHPARSED\";\nexport const ACTION_SET_TRAIN_LIST = \"ACTION_SET_TRAIN_LIST\";\n\nexport function setFrom(payload) {\n  return {\n    type: ACTION_SET_FROM,\n    payload,\n  };\n}\nexport function setTo(payload) {\n  return {\n    type: ACTION_SET_TO,\n    payload,\n  };\n}\nexport function setDepartDate(payload) {\n  return {\n    type: ACTION_SET_DEPARTDATE,\n    payload,\n  };\n}\nexport function setHighSpeed(payload) {\n  return {\n    type: ACTION_SET_HIGHSPEED,\n    payload,\n  };\n}\n\nexport function toggleHighSpeed() {\n  return (dispatch, getState) => {\n    const { highSpeed } = getState();\n    dispatch(setHighSpeed(!highSpeed));\n  };\n}\n\nexport function toggleOrderType() {\n  return (dispatch, getState) => {\n    const { orderType } = getState();\n    dispatch({\n      type: ACTION_SET_ORDERTYPE,\n      payload:\n        orderType === ORDER_TYPE_KEY.orderDepart\n          ? ORDER_TYPE_KEY.orderDuration\n          : ORDER_TYPE_KEY.orderDepart,\n    });\n  };\n}\nexport function toggleOnlyTickets() {\n  return (dispatch, getState) => {\n    const { onlyTickets } = getState();\n    dispatch({\n      type: ACTION_SET_ONLYTICKETS,\n      payload: !onlyTickets,\n    });\n  };\n}\nexport function setTicketTypes(payload) {\n  return {\n    type: ACTION_SET_TICKETTYPES,\n    payload,\n  };\n}\nexport function setCheckedTicketTypes(payload) {\n  return {\n    type: ACTION_SET_CHECKEDTICKETTYPES,\n    payload,\n  };\n}\nexport function setTrainTypes(payload) {\n  return {\n    type: ACTION_SET_TRAINTYPES,\n    payload,\n  };\n}\nexport function setCheckedTrainTypes(payload) {\n  return {\n    type: ACTION_SET_CHECKEDTRAINTYPES,\n    payload,\n  };\n}\nexport function setDepartStations(payload) {\n  return {\n    type: ACTION_SET_DEPARTSTATIONS,\n    payload,\n  };\n}\nexport function setCheckedDepartStations(payload) {\n  return {\n    type: ACTION_SET_CHECKEDDEPARTSTATIONS,\n    payload,\n  };\n}\nexport function setArriveStations(payload) {\n  return {\n    type: ACTION_SET_ARRIVESTATIONS,\n    payload,\n  };\n}\nexport function setCheckedArriveStations(payload) {\n  return {\n    type: ACTION_SET_CHECKEDARRIVESTATIONS,\n    payload,\n  };\n}\nexport function setDepartTimeStart(payload) {\n  return {\n    type: ACTION_SET_DEPARTTIMESTART,\n    payload,\n  };\n}\nexport function setDepartTimeEnd(payload) {\n  return {\n    type: ACTION_SET_DEPARTTIMEEND,\n    payload,\n  };\n}\nexport function setArriveTimeStart(payload) {\n  return {\n    type: ACTION_SET_ARRIVETIMESTART,\n    payload,\n  };\n}\nexport function setArriveTimeEnd(payload) {\n  return {\n    type: ACTION_SET_ARRIVETIMEEND,\n    payload,\n  };\n}\nexport function toggleIsFiltersVisible() {\n  return (dispatch, getState) => {\n    const { isFilltersVisible } = getState();\n    dispatch({\n      type: ACTION_SET_ISFILLTERSVISIBLE,\n      payload: !isFilltersVisible,\n    });\n  };\n}\nexport function setSearchParsed(payload) {\n  return {\n    type: ACTION_SET_SEARCHPARSED,\n    payload,\n  };\n}\n\nexport function setNextDay() {\n  return (dispatch, getState) => {\n    const { departDate } = getState();\n    dispatch(setDepartDate(departDate + 86400 * 1000));\n  };\n}\n\nexport function setPrevDay() {\n  return (dispatch, getState) => {\n    const { departDate } = getState();\n    dispatch(setDepartDate(departDate - 86400 * 1000));\n  };\n}\n\nexport function setTrainList(payload) {\n  return {\n    type: ACTION_SET_TRAIN_LIST,\n    payload,\n  };\n}\n\nexport function fetchTicketList(payload) {\n  return dispatch => {\n    request(`${process.env.REACT_APP_API_URl}/rest/queryTicketList?${stringify(payload)}`).then(\n      response => {\n        const { data } = response;\n        const {\n          dataMap: {\n            directTrainInfo: {\n              trains,\n              filter: { ticketType, trainType, depStation, arrStation },\n            },\n          },\n        } = data;\n\n        dispatch(setTrainList(trains));\n        dispatch(setTicketTypes(ticketType));\n        dispatch(setTrainTypes(trainType));\n        dispatch(setDepartStations(depStation));\n        dispatch(setArriveStations(arrStation));\n      }\n    );\n  };\n}\n","import { h0 } from \"../utils/utils\";\nimport { ORDER_TYPE_KEY } from \"../utils/constant\";\nimport {\n  ACTION_SET_FROM,\n  ACTION_SET_TO,\n  ACTION_SET_DEPARTDATE,\n  ACTION_SET_HIGHSPEED,\n  ACTION_SET_ORDERTYPE,\n  ACTION_SET_ONLYTICKETS,\n  ACTION_SET_TICKETTYPES,\n  ACTION_SET_CHECKEDTICKETTYPES,\n  ACTION_SET_TRAINTYPES,\n  ACTION_SET_CHECKEDTRAINTYPES,\n  ACTION_SET_DEPARTSTATIONS,\n  ACTION_SET_CHECKEDDEPARTSTATIONS,\n  ACTION_SET_ARRIVESTATIONS,\n  ACTION_SET_CHECKEDARRIVESTATIONS,\n  ACTION_SET_DEPARTTIMESTART,\n  ACTION_SET_DEPARTTIMEEND,\n  ACTION_SET_ARRIVETIMESTART,\n  ACTION_SET_ARRIVETIMEEND,\n  ACTION_SET_ISFILLTERSVISIBLE,\n  ACTION_SET_SEARCHPARSED,\n  ACTION_SET_TRAIN_LIST,\n} from \"./action\";\n\nexport default {\n  from(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_FROM:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  to(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_TO:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  departDate(state = h0(new Date()), action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_DEPARTDATE:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  highSpeed(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_HIGHSPEED:\n        return payload;\n      case ACTION_SET_CHECKEDTRAINTYPES:\n        return Boolean(payload[1] && payload[5]);\n      default:\n        return state;\n    }\n  },\n  orderType(state = ORDER_TYPE_KEY.orderDepart, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_ORDERTYPE:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  onlyTickets(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_ONLYTICKETS:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  ticketTypes(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_TICKETTYPES:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  checkedTicketTypes(state = {}, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_CHECKEDTICKETTYPES:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  trainTypes(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_TRAINTYPES:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  checkedTrainTypes(state = {}, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_CHECKEDTRAINTYPES:\n        return payload;\n      case ACTION_SET_HIGHSPEED:\n        const highSpeed = payload;\n        const newCheckTrainTypes = { ...state };\n\n        if (highSpeed) {\n          newCheckTrainTypes[1] = true;\n          newCheckTrainTypes[5] = true;\n        } else {\n          delete newCheckTrainTypes[1];\n          delete newCheckTrainTypes[5];\n        }\n        return newCheckTrainTypes;\n\n      default:\n        return state;\n    }\n  },\n  departStations(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_DEPARTSTATIONS:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  checkedDepartStations(state = {}, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_CHECKEDDEPARTSTATIONS:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  arriveStations(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_ARRIVESTATIONS:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  checkedArriveStations(state = {}, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_CHECKEDARRIVESTATIONS:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  departTimeStart(state = 0, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_DEPARTTIMESTART:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  departTimeEnd(state = 24, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_DEPARTTIMEEND:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  arriveTimeStart(state = 0, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_ARRIVETIMESTART:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  arriveTimeEnd(state = 24, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_ARRIVETIMEEND:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  isFilltersVisible(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_ISFILLTERSVISIBLE:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  searchParsed(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_SEARCHPARSED:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  trainList(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_TRAIN_LIST:\n        return payload;\n      default:\n        return state;\n    }\n  },\n};\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport reducers from \"./reducers\";\nimport { h0 } from \"../utils/utils\";\nimport { ORDER_TYPE_KEY } from \"../utils/constant\";\nimport thunk from \"redux-thunk\";\n\nexport default createStore(\n  combineReducers(reducers),\n  {\n    from: null,\n    to: null,\n    departDate: h0(Date.now()),\n    highSpeed: false,\n    trainList: [],\n    orderType: ORDER_TYPE_KEY.orderDepart,\n    onlyTickets: false,\n    ticketTypes: [],\n    checkedTicketTypes: {},\n    trainTypes: [],\n    checkedTrainTypes: {},\n    departStations: [],\n    checkedDepartStations: {},\n    arriveStations: [],\n    checkedArriveStations: {},\n    departTimeStart: 0,\n    departTimeEnd: 24,\n    arriveTimeStart: 0,\n    arriveTimeEnd: 24,\n    isFilltersVisible: false,\n    searchParsed: false,\n  },\n  applyMiddleware(thunk)\n);\n","import React, { memo, useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport URI from \"urijs\";\nimport \"./List.css\";\n\nfunction ListItem(props) {\n  const { dTime, aTime, dStation, aStation, trainNumber, date, time, priceMsg, dayAfter } = props;\n\n  const url = useMemo(() => {\n    return new URI(\"ticket.html\")\n      .setSearch(\"dStation\", dStation)\n      .setSearch(\"aStation\", aStation)\n      .setSearch(\"trainNumber\", trainNumber)\n      .setSearch(\"date\", date)\n      .toString();\n  }, [aStation, dStation, date, trainNumber]);\n\n  return (\n    <li className=\"list-item\">\n      <a href={url}>\n        <span className=\"item-time\">\n          <em>{dTime}</em>\n          <br />\n          <em className=\"em-light\">\n            {aTime} <i className=\"time-after\">{dayAfter}</i>\n          </em>\n        </span>\n        <span className=\"item-stations\">\n          <em>\n            <i className=\"train-station train-start\">始</i>\n            {dStation}\n          </em>\n          <br />\n          <em className=\"em-light\">\n            <i className=\"train-station train-end\">终</i>\n            {aStation}\n          </em>\n        </span>\n        <span className=\"item-train\">\n          <em>{trainNumber}</em>\n          <br />\n          <em className=\"em-light\">{time}</em>\n        </span>\n        <span className=\"item-ticket\">\n          <em>{priceMsg}</em>\n          <br />\n          <em className=\"em-light-orange\">可抢票</em>\n        </span>\n      </a>\n    </li>\n  );\n}\n\nListItem.propTypes = {\n  dTime: PropTypes.string.isRequired,\n  aTime: PropTypes.string.isRequired,\n  dStation: PropTypes.string.isRequired,\n  aStation: PropTypes.string.isRequired,\n  trainNumber: PropTypes.string.isRequired,\n  date: PropTypes.string.isRequired,\n  time: PropTypes.string.isRequired,\n  priceMsg: PropTypes.string.isRequired,\n  dayAfter: PropTypes.string.isRequired,\n};\n\nconst List = memo(function List(props) {\n  const { list } = props;\n  return (\n    <ul className=\"list\">\n      {list.map(item => (\n        <ListItem key={item.trainNumber} {...item} />\n      ))}\n    </ul>\n  );\n});\n\nList.propTypes = {\n  list: PropTypes.array.isRequired,\n};\n\nexport default List;\n","import React, { memo, useState, useMemo, useRef, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport leftPad from \"left-pad\";\nimport useWinSize from \"../utils/useWinSize\";\nimport \"./Slider.css\";\n\nconst Slider = memo(function Slider(props) {\n  const { title, currentStartHours, currentEndHours, onStartChanged, onEndChanged } = props;\n\n  const winSize = useWinSize();\n\n  const startHandle = useRef();\n  const endHandle = useRef();\n\n  const lastStartX = useRef();\n  const lastEndX = useRef();\n\n  const range = useRef();\n  const rangeWidth = useRef();\n\n  const prevCurrentStartHours = useRef(currentStartHours);\n  const prevCurrentEndHours = useRef(currentEndHours);\n\n  const [start, setStart] = useState(() => (currentStartHours / 24) * 100);\n  const [end, setEnd] = useState(() => (currentEndHours / 24) * 100);\n\n  if (prevCurrentStartHours.current !== currentStartHours) {\n    setStart((currentStartHours / 24) * 100);\n    prevCurrentStartHours.current = currentStartHours;\n  }\n\n  if (prevCurrentEndHours.current !== currentEndHours) {\n    setEnd((currentEndHours / 24) * 100);\n    prevCurrentEndHours.current = currentEndHours;\n  }\n\n  const startPercent = useMemo(() => {\n    if (start > 100) {\n      return 100;\n    }\n\n    if (start < 0) {\n      return 0;\n    }\n\n    return start;\n  }, [start]);\n\n  const endPercent = useMemo(() => {\n    if (end > 100) {\n      return 100;\n    }\n\n    if (end < 0) {\n      return 0;\n    }\n\n    return end;\n  }, [end]);\n\n  const startHours = useMemo(() => {\n    return Math.round((startPercent * 24) / 100);\n  }, [startPercent]);\n\n  const endHours = useMemo(() => {\n    return Math.round((endPercent * 24) / 100);\n  }, [endPercent]);\n\n  const startText = useMemo(() => {\n    return leftPad(startHours, 2, \"0\") + \":00\";\n  }, [startHours]);\n\n  const endText = useMemo(() => {\n    return leftPad(endHours, 2, \"0\") + \":00\";\n  }, [endHours]);\n\n  function onStartTouchBegin(e) {\n    const touch = e.targetTouches[0];\n    lastStartX.current = touch.pageX;\n  }\n\n  function onEndTouchBegin(e) {\n    const touch = e.targetTouches[0];\n    lastEndX.current = touch.pageX;\n  }\n\n  function onStartTouchMove(e) {\n    const touch = e.targetTouches[0];\n    const distance = touch.pageX - lastStartX.current;\n    lastStartX.current = touch.pageX;\n\n    setStart(start => start + (distance / rangeWidth.current) * 100);\n  }\n\n  function onEndTouchMove(e) {\n    const touch = e.targetTouches[0];\n    const distance = touch.pageX - lastEndX.current;\n    lastEndX.current = touch.pageX;\n\n    setEnd(end => end + (distance / rangeWidth.current) * 100);\n  }\n\n  useEffect(() => {\n    rangeWidth.current = parseFloat(window.getComputedStyle(range.current).width);\n  }, [winSize.width]);\n\n  useEffect(() => {\n    startHandle.current.addEventListener(\"touchstart\", onStartTouchBegin, false);\n    startHandle.current.addEventListener(\"touchmove\", onStartTouchMove, false);\n    endHandle.current.addEventListener(\"touchstart\", onEndTouchBegin, false);\n    endHandle.current.addEventListener(\"touchmove\", onEndTouchMove, false);\n\n    return () => {\n      startHandle.current.removeEventListener(\"touchstart\", onStartTouchBegin, false);\n      startHandle.current.removeEventListener(\"touchmove\", onStartTouchMove, false);\n      endHandle.current.removeEventListener(\"touchstart\", onEndTouchBegin, false);\n      endHandle.current.removeEventListener(\"touchmove\", onEndTouchMove, false);\n    };\n  });\n\n  useEffect(() => {\n    onStartChanged(startHours);\n  }, [onStartChanged, startHours]);\n\n  useEffect(() => {\n    onEndChanged(endHours);\n  }, [endHours, onEndChanged]);\n\n  return (\n    <div className=\"option\">\n      <h3>{title}</h3>\n      <div className=\"range-slider\">\n        <div className=\"slider\" ref={range}>\n          <div\n            className=\"slider-range\"\n            style={{\n              left: startPercent + \"%\",\n              width: endPercent - startPercent + \"%\",\n            }}\n          />\n          <i\n            ref={startHandle}\n            className=\"slider-handle\"\n            style={{\n              left: startPercent + \"%\",\n            }}\n          >\n            <span>{startText}</span>\n          </i>\n          <i\n            ref={endHandle}\n            className=\"slider-handle\"\n            style={{\n              left: endPercent + \"%\",\n            }}\n          >\n            <span>{endText}</span>\n          </i>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nSlider.propTypes = {\n  title: PropTypes.string.isRequired,\n  currentStartHours: PropTypes.number.isRequired,\n  currentEndHours: PropTypes.number.isRequired,\n  onStartChanged: PropTypes.func.isRequired,\n  onEndChanged: PropTypes.func.isRequired,\n};\n\nexport default Slider;\n","import { useState, useEffect } from 'react';\n\nexport default function useWinSize() {\n    const [width, setWidth] = useState(document.documentElement.clientWidth);\n    const [height, setHeight] = useState(document.documentElement.clientHeight);\n\n    const onResize = () => {\n        setWidth(document.documentElement.clientWidth);\n        setHeight(document.documentElement.clientHeight);\n    };\n\n    useEffect(() => {\n        window.addEventListener('resize', onResize, false);\n\n        return () => {\n            window.removeEventListener('resize', onResize, false);\n        };\n    }, []);\n\n    return { width, height };\n}\n","import React, { memo, useState, useMemo, useReducer } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport Slider from \"./Slider.jsx\";\nimport \"./BottomModal.css\";\n\nfunction checkedReducer(state, action) {\n  const { type, payload } = action;\n  let newState;\n\n  switch (type) {\n    case \"toggle\":\n      newState = { ...state };\n      if (payload in newState) {\n        delete newState[payload];\n      } else {\n        newState[payload] = true;\n      }\n      return newState;\n    case \"reset\":\n      return {};\n    default:\n  }\n\n  return state;\n}\n\nconst Filter = memo(function(props) {\n  const { name, value, checked, dispatch } = props;\n  return (\n    <li\n      className={classnames({ checked })}\n      onClick={() => dispatch({ payload: value, type: \"toggle\" })}\n    >\n      {name}\n    </li>\n  );\n});\n\nFilter.propTypes = {\n  name: PropTypes.string.isRequired,\n  checked: PropTypes.bool.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nconst Options = memo(function(props) {\n  const { title, options, checkedMap, dispatch } = props;\n\n  return (\n    <div className=\"option\">\n      <h3>{title}</h3>\n      <ul>\n        {options.map(option => {\n          return (\n            <Filter\n              key={option.value}\n              {...option}\n              checked={option.value in checkedMap}\n              dispatch={dispatch}\n            />\n          );\n        })}\n      </ul>\n    </div>\n  );\n});\n\nOptions.propTypes = {\n  title: PropTypes.string.isRequired,\n  options: PropTypes.array.isRequired,\n  checkedMap: PropTypes.object.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nfunction BottomModal(props) {\n  const {\n    ticketTypes,\n    trainTypes,\n    departStations,\n    arriveStations,\n    checkedTicketTypes,\n    checkedTrainTypes,\n    checkedDepartStations,\n    checkedArriveStations,\n    departTimeStart,\n    departTimeEnd,\n    arriveTimeStart,\n    arriveTimeEnd,\n    setCheckedTicketTypes,\n    setCheckedTrainTypes,\n    setCheckedDepartStations,\n    setCheckedArriveStations,\n    setDepartTimeStart,\n    setDepartTimeEnd,\n    setArriveTimeStart,\n    setArriveTimeEnd,\n    toggleIsFiltersVisible,\n  } = props;\n\n  const [localCheckedTicketTypes, localCheckedTicketTypesDispatch] = useReducer(\n    checkedReducer,\n    checkedTicketTypes,\n    checkedTicketTypes => ({\n      ...checkedTicketTypes,\n    })\n  );\n\n  const [localCheckedTrainTypes, localCheckedTrainTypesDispatch] = useReducer(\n    checkedReducer,\n    checkedTrainTypes,\n    checkedTrainTypes => ({\n      ...checkedTrainTypes,\n    })\n  );\n\n  const [localCheckedDepartStations, localCheckedDepartStationsDispatch] = useReducer(\n    checkedReducer,\n    checkedDepartStations,\n    checkedDepartStations => ({\n      ...checkedDepartStations,\n    })\n  );\n\n  const [localCheckedArriveStations, localCheckedArriveStationsDispatch] = useReducer(\n    checkedReducer,\n    checkedArriveStations,\n    () => ({\n      ...checkedArriveStations,\n    })\n  );\n\n  const [localDepartTimeStart, setLocalDepartTimeStart] = useState(departTimeStart);\n  const [localDepartTimeEnd, setLocalDepartTimeEnd] = useState(departTimeEnd);\n  const [localArriveTimeStart, setLocalArriveTimeStart] = useState(arriveTimeStart);\n  const [localArriveTimeEnd, setLocalArriveTimeEnd] = useState(arriveTimeEnd);\n\n  const optionGroup = [\n    {\n      title: \"坐席类型\",\n      options: ticketTypes,\n      checkedMap: localCheckedTicketTypes,\n      dispatch: localCheckedTicketTypesDispatch,\n    },\n    {\n      title: \"车次类型\",\n      options: trainTypes,\n      checkedMap: localCheckedTrainTypes,\n      dispatch: localCheckedTrainTypesDispatch,\n    },\n    {\n      title: \"出发车站\",\n      options: departStations,\n      checkedMap: localCheckedDepartStations,\n      dispatch: localCheckedDepartStationsDispatch,\n    },\n    {\n      title: \"到达车站\",\n      options: arriveStations,\n      checkedMap: localCheckedArriveStations,\n      dispatch: localCheckedArriveStationsDispatch,\n    },\n  ];\n\n  const sure = () => {\n    setCheckedTicketTypes(localCheckedTicketTypes);\n    setCheckedTrainTypes(localCheckedTrainTypes);\n    setCheckedDepartStations(localCheckedDepartStations);\n    setCheckedArriveStations(localCheckedArriveStations);\n\n    setDepartTimeStart(localDepartTimeStart);\n    setDepartTimeEnd(localDepartTimeEnd);\n    setArriveTimeStart(localArriveTimeStart);\n    setArriveTimeEnd(localArriveTimeEnd);\n\n    toggleIsFiltersVisible();\n  };\n\n  const isResetDisabled = useMemo(() => {\n    return (\n      Object.keys(localCheckedTicketTypes).length === 0 &&\n      Object.keys(localCheckedTrainTypes).length === 0 &&\n      Object.keys(localCheckedDepartStations).length === 0 &&\n      Object.keys(localCheckedArriveStations).length === 0 &&\n      localDepartTimeStart === 0 &&\n      localDepartTimeEnd === 24 &&\n      localArriveTimeStart === 0 &&\n      localArriveTimeEnd === 24\n    );\n  }, [\n    localCheckedTicketTypes,\n    localCheckedTrainTypes,\n    localCheckedDepartStations,\n    localCheckedArriveStations,\n    localDepartTimeStart,\n    localDepartTimeEnd,\n    localArriveTimeStart,\n    localArriveTimeEnd,\n  ]);\n\n  function reset() {\n    if (isResetDisabled) {\n      return;\n    }\n\n    localCheckedTicketTypesDispatch({ type: \"reset\" });\n    localCheckedTrainTypesDispatch({ type: \"reset\" });\n    localCheckedDepartStationsDispatch({ type: \"reset\" });\n    localCheckedArriveStationsDispatch({ type: \"reset\" });\n    setLocalDepartTimeStart(0);\n    setLocalDepartTimeEnd(24);\n    setLocalArriveTimeStart(0);\n    setLocalArriveTimeEnd(24);\n  }\n\n  return (\n    <div className=\"bottom-modal\">\n      <div className=\"bottom-dialog\">\n        <div className=\"bottom-dialog-content\">\n          <div className=\"title\">\n            <span\n              className={classnames(\"reset\", {\n                disabled: isResetDisabled,\n              })}\n              onClick={reset}\n            >\n              重置\n            </span>\n            <span className=\"ok\" onClick={sure}>\n              确定\n            </span>\n          </div>\n          <div className=\"options\">\n            {optionGroup.map(group => (\n              <Options key={group.title} {...group} />\n            ))}\n            <Slider\n              title=\"出发时间\"\n              currentStartHours={localDepartTimeStart}\n              currentEndHours={localDepartTimeEnd}\n              onStartChanged={setLocalDepartTimeStart}\n              onEndChanged={setLocalDepartTimeEnd}\n            />\n            <Slider\n              title=\"到达时间\"\n              currentStartHours={localArriveTimeStart}\n              currentEndHours={localArriveTimeEnd}\n              onStartChanged={setLocalArriveTimeStart}\n              onEndChanged={setLocalArriveTimeEnd}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nBottomModal.propTypes = {\n  ticketTypes: PropTypes.array.isRequired,\n  trainTypes: PropTypes.array.isRequired,\n  departStations: PropTypes.array.isRequired,\n  arriveStations: PropTypes.array.isRequired,\n  checkedTicketTypes: PropTypes.object.isRequired,\n  checkedTrainTypes: PropTypes.object.isRequired,\n  checkedDepartStations: PropTypes.object.isRequired,\n  checkedArriveStations: PropTypes.object.isRequired,\n  departTimeStart: PropTypes.number.isRequired,\n  departTimeEnd: PropTypes.number.isRequired,\n  arriveTimeStart: PropTypes.number.isRequired,\n  arriveTimeEnd: PropTypes.number.isRequired,\n  setCheckedTicketTypes: PropTypes.func.isRequired,\n  setCheckedTrainTypes: PropTypes.func.isRequired,\n  setCheckedDepartStations: PropTypes.func.isRequired,\n  setCheckedArriveStations: PropTypes.func.isRequired,\n  setDepartTimeStart: PropTypes.func.isRequired,\n  setDepartTimeEnd: PropTypes.func.isRequired,\n  setArriveTimeStart: PropTypes.func.isRequired,\n  setArriveTimeEnd: PropTypes.func.isRequired,\n};\n\nexport default BottomModal;\n","import React, { useMemo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport { ORDER_TYPE_KEY } from \"../utils/constant\";\nimport BottomModal from \"./BottomModal\";\nimport \"./Bottom.css\";\n\nexport default function Bottom(props) {\n  const {\n    highSpeed,\n    orderType,\n    onlyTickets,\n    isFilltersVisible,\n    toggleHighSpeed,\n    toggleOrderType,\n    toggleOnlyTickets,\n    toggleIsFiltersVisible,\n\n    ticketTypes,\n    trainTypes,\n    departStations,\n    arriveStations,\n    checkedTicketTypes,\n    checkedTrainTypes,\n    checkedDepartStations,\n    checkedArriveStations,\n    departTimeStart,\n    departTimeEnd,\n    arriveTimeStart,\n    arriveTimeEnd,\n    setCheckedTicketTypes,\n    setCheckedTrainTypes,\n    setCheckedDepartStations,\n    setCheckedArriveStations,\n    setDepartTimeStart,\n    setDepartTimeEnd,\n    setArriveTimeStart,\n    setArriveTimeEnd,\n  } = props;\n\n  const noChecked = useMemo(() => {\n    return (\n      Object.keys(checkedTicketTypes).length === 0 &&\n      Object.keys(checkedTrainTypes).length === 0 &&\n      Object.keys(checkedDepartStations).length === 0 &&\n      Object.keys(checkedArriveStations).length === 0 &&\n      departTimeStart === 0 &&\n      departTimeEnd === 24 &&\n      arriveTimeStart === 0 &&\n      arriveTimeEnd === 24\n    );\n  }, [\n    checkedTicketTypes,\n    checkedTrainTypes,\n    checkedDepartStations,\n    checkedArriveStations,\n    departTimeStart,\n    departTimeEnd,\n    arriveTimeStart,\n    arriveTimeEnd,\n  ]);\n  return (\n    <div className=\"bottom\">\n      <div className=\"bottom-filters\">\n        <span className=\"item\" onClick={toggleOrderType}>\n          <i className=\"icon\">&#xf065;</i>\n          {orderType === ORDER_TYPE_KEY.orderDepart ? \"出发 早→晚\" : \"耗时 短→长\"}\n        </span>\n\n        <span className={classnames(\"item\", { \"item-on\": highSpeed })} onClick={toggleHighSpeed}>\n          <i className=\"icon\">{highSpeed ? \"\\uf43f\" : \"\\uf43e\"}</i>\n          只看高铁动车\n        </span>\n\n        <span\n          className={classnames(\"item\", { \"item-on\": onlyTickets })}\n          onClick={toggleOnlyTickets}\n        >\n          <i className=\"icon\">{onlyTickets ? \"\\uf43d\" : \"\\uf43c\"}</i>\n          只看有票\n        </span>\n\n        <span\n          className={classnames(\"item\", { \"item-on\": isFilltersVisible || !noChecked })}\n          onClick={toggleIsFiltersVisible}\n        >\n          <i className=\"icon\">{noChecked ? \"\\uf0f7\" : \"\\uf446\"}</i>\n          综合筛选\n        </span>\n      </div>\n      {isFilltersVisible ? (\n        <BottomModal\n          ticketTypes={ticketTypes}\n          trainTypes={trainTypes}\n          departStations={departStations}\n          arriveStations={arriveStations}\n          checkedTicketTypes={checkedTicketTypes}\n          checkedTrainTypes={checkedTrainTypes}\n          checkedDepartStations={checkedDepartStations}\n          checkedArriveStations={checkedArriveStations}\n          departTimeStart={departTimeStart}\n          departTimeEnd={departTimeEnd}\n          arriveTimeStart={arriveTimeStart}\n          arriveTimeEnd={arriveTimeEnd}\n          setCheckedTicketTypes={setCheckedTicketTypes}\n          setCheckedTrainTypes={setCheckedTrainTypes}\n          setCheckedDepartStations={setCheckedDepartStations}\n          setCheckedArriveStations={setCheckedArriveStations}\n          setDepartTimeStart={setDepartTimeStart}\n          setDepartTimeEnd={setDepartTimeEnd}\n          setArriveTimeStart={setArriveTimeStart}\n          setArriveTimeEnd={setArriveTimeEnd}\n          toggleIsFiltersVisible={toggleIsFiltersVisible}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nBottom.propTypes = {\n  highSpeed: PropTypes.bool.isRequired,\n  orderType: PropTypes.number.isRequired,\n  onlyTickets: PropTypes.bool.isRequired,\n  isFilltersVisible: PropTypes.bool.isRequired,\n  toggleHighSpeed: PropTypes.func.isRequired,\n  toggleOrderType: PropTypes.func.isRequired,\n  toggleOnlyTickets: PropTypes.func.isRequired,\n  toggleIsFiltersVisible: PropTypes.func.isRequired,\n\n  ticketTypes: PropTypes.array.isRequired,\n  trainTypes: PropTypes.array.isRequired,\n  departStations: PropTypes.array.isRequired,\n  arriveStations: PropTypes.array.isRequired,\n  checkedTicketTypes: PropTypes.object.isRequired,\n  checkedTrainTypes: PropTypes.object.isRequired,\n  checkedDepartStations: PropTypes.object.isRequired,\n  checkedArriveStations: PropTypes.object.isRequired,\n  departTimeStart: PropTypes.number.isRequired,\n  departTimeEnd: PropTypes.number.isRequired,\n  arriveTimeStart: PropTypes.number.isRequired,\n  arriveTimeEnd: PropTypes.number.isRequired,\n\n  setCheckedTicketTypes: PropTypes.func.isRequired,\n  setCheckedTrainTypes: PropTypes.func.isRequired,\n  setCheckedDepartStations: PropTypes.func.isRequired,\n  setCheckedArriveStations: PropTypes.func.isRequired,\n  setDepartTimeStart: PropTypes.func.isRequired,\n  setDepartTimeEnd: PropTypes.func.isRequired,\n  setArriveTimeStart: PropTypes.func.isRequired,\n  setArriveTimeEnd: PropTypes.func.isRequired,\n};\n","import React, { useCallback, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport URI from \"urijs\";\nimport dayjs from \"dayjs\";\nimport Header from \"../components/Header\";\nimport Nav from \"../components/Nav\";\nimport List from \"./List\";\nimport Bottom from \"./Bottom\";\nimport {\n  setFrom,\n  setTo,\n  setDepartDate,\n  setHighSpeed,\n  setSearchParsed,\n  fetchTicketList,\n  setNextDay,\n  setPrevDay,\n  toggleHighSpeed,\n  toggleOrderType,\n  toggleOnlyTickets,\n  toggleIsFiltersVisible,\n  setCheckedTicketTypes,\n  setCheckedTrainTypes,\n  setCheckedDepartStations,\n  setCheckedArriveStations,\n  setDepartTimeStart,\n  setDepartTimeEnd,\n  setArriveTimeStart,\n  setArriveTimeEnd,\n} from \"./action\";\nimport { h0 } from \"../utils/utils\";\nimport \"./App.css\";\nimport useNav from \"../components/useNav\";\n\nfunction App(props) {\n  const {\n    from,\n    to,\n    departDate,\n    highSpeed,\n    orderType,\n    onlyTickets,\n    isFilltersVisible,\n    searchParsed,\n    setFrom,\n    setTo,\n    setDepartDate,\n    setHighSpeed,\n    setSearchParsed,\n    fetchTicketList,\n    setNextDay,\n    setPrevDay,\n    trainList,\n    toggleHighSpeed,\n    toggleOrderType,\n    toggleOnlyTickets,\n    toggleIsFiltersVisible,\n    ticketTypes,\n    trainTypes,\n    departStations,\n    arriveStations,\n    checkedTicketTypes,\n    checkedTrainTypes,\n    checkedDepartStations,\n    checkedArriveStations,\n    departTimeStart,\n    departTimeEnd,\n    arriveTimeStart,\n    arriveTimeEnd,\n    setCheckedTicketTypes,\n    setCheckedTrainTypes,\n    setCheckedDepartStations,\n    setCheckedArriveStations,\n    setDepartTimeStart,\n    setDepartTimeEnd,\n    setArriveTimeStart,\n    setArriveTimeEnd,\n  } = props;\n  const onBack = useCallback(() => {\n    window.history.back();\n  }, []);\n  useEffect(() => {\n    const queryParams = URI.parseQuery(window.location.search);\n    const { from, to, date, highSpeed } = queryParams;\n    setFrom(from);\n    setTo(to);\n    setDepartDate(h0(dayjs(date)));\n    setHighSpeed(highSpeed === \"true\");\n    setSearchParsed(true);\n  }, [setDepartDate, setFrom, setHighSpeed, setSearchParsed, setTo]);\n\n  useEffect(() => {\n    if (!searchParsed) {\n      return;\n    }\n    fetchTicketList({\n      from,\n      to,\n      departDate: dayjs(departDate).format(\"YYYY-MM-DD\"),\n      highSpeed,\n      searchParsed,\n      orderType,\n      onlyTickets,\n      checkedTicketTypes: Object.keys(checkedTicketTypes),\n      checkedTrainTypes: Object.keys(checkedTrainTypes),\n      checkedDepartStations: Object.keys(checkedDepartStations),\n      checkedArriveStations: Object.keys(checkedArriveStations),\n      departTimeStart,\n      departTimeEnd,\n      arriveTimeStart,\n      arriveTimeEnd,\n    });\n  }, [\n    from,\n    to,\n    departDate,\n    highSpeed,\n    searchParsed,\n    orderType,\n    onlyTickets,\n    checkedTicketTypes,\n    checkedTrainTypes,\n    checkedDepartStations,\n    checkedArriveStations,\n    departTimeStart,\n    departTimeEnd,\n    arriveTimeStart,\n    arriveTimeEnd,\n    fetchTicketList,\n  ]);\n\n  // 引入nav的自定义hook\n  const { isPreDisabled, isNextDisabled, onClickPre, onClickNext } = useNav(\n    departDate,\n    setPrevDay,\n    setNextDay\n  );\n\n  if (!searchParsed) {\n    return null;\n  }\n\n  return (\n    <div>\n      <div className=\"header-wrapper\">\n        <Header title={`${from}-${to}`} onBack={onBack} />\n      </div>\n      <Nav\n        date={departDate}\n        onClickPre={onClickPre}\n        onClickNext={onClickNext}\n        isPreDisabled={isPreDisabled}\n        isNextDisabled={isNextDisabled}\n      />\n      <List list={trainList} />\n      <Bottom\n        highSpeed={highSpeed}\n        orderType={orderType}\n        onlyTickets={onlyTickets}\n        isFilltersVisible={isFilltersVisible}\n        toggleHighSpeed={toggleHighSpeed}\n        toggleOrderType={toggleOrderType}\n        toggleOnlyTickets={toggleOnlyTickets}\n        toggleIsFiltersVisible={toggleIsFiltersVisible}\n        ticketTypes={ticketTypes}\n        trainTypes={trainTypes}\n        departStations={departStations}\n        arriveStations={arriveStations}\n        checkedTicketTypes={checkedTicketTypes}\n        checkedTrainTypes={checkedTrainTypes}\n        checkedDepartStations={checkedDepartStations}\n        checkedArriveStations={checkedArriveStations}\n        departTimeStart={departTimeStart}\n        departTimeEnd={departTimeEnd}\n        arriveTimeStart={arriveTimeStart}\n        arriveTimeEnd={arriveTimeEnd}\n        setCheckedTicketTypes={setCheckedTicketTypes}\n        setCheckedTrainTypes={setCheckedTrainTypes}\n        setCheckedDepartStations={setCheckedDepartStations}\n        setCheckedArriveStations={setCheckedArriveStations}\n        setDepartTimeStart={setDepartTimeStart}\n        setDepartTimeEnd={setDepartTimeEnd}\n        setArriveTimeStart={setArriveTimeStart}\n        setArriveTimeEnd={setArriveTimeEnd}\n      />\n    </div>\n  );\n}\n\nexport default connect(\n  state => state,\n  {\n    setFrom,\n    setTo,\n    setDepartDate,\n    setHighSpeed,\n    setSearchParsed,\n    fetchTicketList,\n    setNextDay,\n    setPrevDay,\n    toggleHighSpeed,\n    toggleOrderType,\n    toggleOnlyTickets,\n    toggleIsFiltersVisible,\n    setCheckedTicketTypes,\n    setCheckedTrainTypes,\n    setCheckedDepartStations,\n    setCheckedArriveStations,\n    setDepartTimeStart,\n    setDepartTimeEnd,\n    setArriveTimeStart,\n    setArriveTimeEnd,\n  }\n)(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"normalize.css/normalize.css\";\nimport store from \"./store\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","//缓存城市数据key\nexport const CITY_DATA_CATCH_KEY = \"CITY_DATA_CATCH_KEY\";\n\n// 订单类型\nexport const ORDER_TYPE_KEY = {\n  orderDepart: 1,\n  orderDuration: 2,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Header.css\";\n\nexport default function Header(props) {\n  const { onBack, title } = props;\n  return (\n    <div className=\"header\">\n      <div className=\"header-back\" onClick={onBack}>\n        <svg width=\"42\" height=\"42\">\n          <polyline\n            points=\"25,13 16,21 25,29\"\n            stroke=\"#fff\"\n            strokeWidth=\"2\"\n            fill=\"none\"\n          />\n        </svg>\n      </div>\n      <h1 className=\"header-title\">{title}</h1>\n    </div>\n  );\n}\n\nHeader.propTypes = {\n  onBack: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n};\n"],"sourceRoot":""}
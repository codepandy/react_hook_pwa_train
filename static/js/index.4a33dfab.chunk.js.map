{"version":3,"sources":["utils/request.js","utils/utils.js","index/imgs/switch.svg","index/action.js","index/reducers.js","index/store.js","index/DepartDate.jsx","index/HighSpeed.jsx","index/Journey.jsx","index/Submit.jsx","components/CitySelector.js","components/DateSelector.js","index/App.jsx","serviceWorker.js","index/index.js","utils/constant.js","components/Header.jsx"],"names":["request","url","options","newOptions","_objectSpread","credentials","headers","Headers","Content-Type","fetch","then","response","status","msg","error","Error","json","catch","err","console","log","h0","timestamp","arguments","length","undefined","Date","now","target","setHours","setMinutes","setSeconds","setMilliseconds","getTime","__webpack_require__","d","__webpack_exports__","module","exports","p","ACTION_SET_FROM","ACTION_SET_TO","ACTION_SET_IS_CITY_SELECTOR_VISIBLE","ACTION_SET_CURRENT_SELECTING_LEFT_CITY","ACTION_SET_CITY_DATA","ACTION_SET_IS_LOADING_CITY_DATA","ACTION_SET_IS_DATE_SELECTOR_VISIBLE","ACTION_SET_HIGH_SPEED","ACTION_SET_SEARCH_CITY_DATA","ACTION_SET_DEPART_DATE","setFrom","from","type","payload","setTo","to","setCityData","cityData","setIsLoadingCityData","isLoadingCityData","hideCitySelector","reducers","state","action","isCitySelectorVisible","currentSelectingLeftCity","isDateSelectorVisible","highSpeed","searchCityData","departDate","createStore","combineReducers","applyMiddleware","thunk","DepartDate","props","time","onClick","hoDepart","hoDepartDate","departDateStr","useMemo","dayjs","format","isToday","weekString","getDay","onShowDateSelector","useCallback","react_default","a","createElement","className","name","value","HighSpeed","toggle","classnames","checked","Journey","exchangeFromTo","showCitySelector","readOnly","src","switchImg","alt","width","height","Submit","memo","CityItem","onSelect","CitySection","title","_props$cities","cities","key","data-cate","map","city","CitySelector_CityItem","AlphaIndex","alpha","onClickAlpha","CityList","sections","toAlpha","section","CitySelector_CitySection","citys","alphabet","CitySelector_AlphaIndex","Array","ele","index","String","fromCharCode","SuggestItem","Sugget","searchKey","fetchCityDataByCity","useEffect","fallBackResult","display","item","CitySelector_SuggestItem","CitySelector","_useState","useState","_useState2","Object","slicedToArray","setSearchKey","show","isLoading","onBack","fetchCityData","trim","onChangeText","e","document","querySelector","concat","scrollIntoView","hidden","points","stroke","strokeWidth","fill","placeholder","onChange","Boolean","CitySelector_Sugget","CitySelector_CityList","cityList","Day","day","null","disabled","weekend","includes","getDate","Week","days","idx","Month","startingTimeInMonth","startDate","currentDate","getMonth","push","setDate","lastDay","weeks","i","l","slice","colSpan","getFullYear","DateSelector","onHidenDateSelector","monthSequence","setMonth","Header","month","connect","onExchangeFromTo","dispatch","getState","_getState3","onShowCitySelector","onFetchCityData","JSON","parse","localStorage","getItem","CITY_DATA_CATCH_KEY","expires","process","data","setItem","stringify","setSelectedCity","result","SetDateSelectorVisible","visible","setDepartDate","toggleHighSpeed","window","history","back","doShowCitySelector","m","onSelectDate","Journey_Journey","DepartDate_DepartDate","HighSpeed_HighSpeed","src_index_Submit","src_components_CitySelector","DateSelector_DateSelector","isLocalhost","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","es","store","index_App","getElementById","URL","href","origin","addEventListener","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","ORDER_TYPE_KEY","orderDepart","orderDuration","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/index.4a33dfab.chunk.js","sourcesContent":["// const codeMessage = {\n//   200: \"服务器成功返回请求的数据。\",\n//   201: \"新建或修改数据成功。\",\n//   202: \"一个请求已经进入后台排队（异步任务）。\",\n//   204: \"删除数据成功。\",\n//   400: \"发出的请求有错误，服务器没有进行新建或修改数据的操作。\",\n//   401: \"用户没有权限（令牌、用户名、密码错误）。\",\n//   403: \"用户得到授权，但是访问是被禁止的。\",\n//   404: \"发出的请求针对的是不存在的记录，服务器没有进行操作。\",\n//   406: \"请求的格式不可得。\",\n//   410: \"请求的资源被永久删除，且不会再得到的。\",\n//   422: \"当创建一个对象时，发生一个验证错误。\",\n//   500: \"服务器发生错误，请检查服务器。\",\n//   502: \"网关错误。\",\n//   503: \"服务不可用，服务器暂时过载或维护。\",\n//   504: \"网关超时。\",\n// };\n\nexport default function request(url, options) {\n  const defaultOptions = {\n    credentials: \"include\",\n    headers: new Headers({\n      \"Content-Type\": \"application/json\",\n    }),\n  };\n  const newOptions = {\n    ...defaultOptions,\n    ...options,\n  };\n  return fetch(url, newOptions)\n    .then(response => {\n      const { status, msg } = response;\n      if (status >= 200 && status < 300) {\n        return response;\n      }\n      const error = new Error(msg);\n      error.status = status;\n      error.response = response;\n      throw error;\n    })\n    .then(response => response.json())\n    .catch(err => {\n      console.log(\"网络请求失败！\");\n    });\n}\n","export function h0(timestamp = Date.now()) {\n  const target = new Date(timestamp);\n  target.setHours(0);\n  target.setMinutes(0);\n  target.setSeconds(0);\n  target.setMilliseconds(0);\n\n  return target.getTime();\n}\n","module.exports = __webpack_public_path__ + \"static/media/switch.b672b5fb.svg\";","import { stringify } from \"qs\";\nimport request from \"../utils/request\";\nimport { CITY_DATA_CATCH_KEY } from \"../utils/constant\";\nexport const ACTION_SET_FROM = \"ACTION_SET_FROM\";\nexport const ACTION_SET_TO = \"ACTION_SET_TO\";\nexport const ACTION_SET_IS_CITY_SELECTOR_VISIBLE = \"ACTION_SET_IS_CITY_SELECTOR_VISIBLE\";\nexport const ACTION_SET_CURRENT_SELECTING_LEFT_CITY = \"ACTION_SET_CURRENT_SELECTING_LEFT_CITY\";\nexport const ACTION_SET_CITY_DATA = \"ACTION_SET_CITY_DATA\";\nexport const ACTION_SET_IS_LOADING_CITY_DATA = \"ACTION_SET_IS_LOADING_CITY_DATA\";\nexport const ACTION_SET_IS_DATE_SELECTOR_VISIBLE = \"ACTION_SET_IS_DATE_SELECTOR_VISIBLE\";\nexport const ACTION_SET_HIGH_SPEED = \"ACTION_SET_HIGH_SPEED\";\nexport const ACTION_SET_SEARCH_CITY_DATA = \"ACTION_SET_SEARCH_CITY_DATA\";\nexport const ACTION_SET_DEPART_DATE = \"ACTION_SET_DEPART_DATE\";\n\nexport function setFrom(from) {\n  return {\n    type: ACTION_SET_FROM,\n    payload: from,\n  };\n}\n\nexport function setTo(to) {\n  return { type: ACTION_SET_TO, payload: to };\n}\n\nexport function setIsCitySelectorVisible(isCitySelectorVisible) {\n  return {\n    type: ACTION_SET_IS_CITY_SELECTOR_VISIBLE,\n    payload: isCitySelectorVisible,\n  };\n}\n\nexport function setCurrentSelectingLeftCity(currentSelectingLeftCity) {\n  return {\n    type: ACTION_SET_CURRENT_SELECTING_LEFT_CITY,\n    payload: currentSelectingLeftCity,\n  };\n}\n\nexport function setCityData(cityData) {\n  return { type: ACTION_SET_CITY_DATA, payload: cityData };\n}\n\nexport function setIsLoadingCityData(isLoadingCityData) {\n  return { type: ACTION_SET_IS_LOADING_CITY_DATA, payload: isLoadingCityData };\n}\n\nexport function setIsDateSelectorVisible(isDateSelectorVisible) {\n  return {\n    type: ACTION_SET_IS_DATE_SELECTOR_VISIBLE,\n    payload: isDateSelectorVisible,\n  };\n}\n\nexport function toggleHighSpeed() {\n  return (dispatch, getState) => {\n    const { highSpeed } = getState();\n    return dispatch({ type: ACTION_SET_HIGH_SPEED, payload: !highSpeed });\n  };\n}\n\nexport function showCitySelector(currentSelectingLeftCity) {\n  return dispatch => {\n    dispatch({\n      type: ACTION_SET_IS_CITY_SELECTOR_VISIBLE,\n      payload: true,\n    });\n    dispatch({\n      type: ACTION_SET_CURRENT_SELECTING_LEFT_CITY,\n      payload: currentSelectingLeftCity,\n    });\n  };\n}\n\nexport function hideCitySelector() {\n  return {\n    type: ACTION_SET_IS_CITY_SELECTOR_VISIBLE,\n    payload: false,\n  };\n}\n\nexport function setSelectedCity(city) {\n  return (dispatch, getState) => {\n    const { currentSelectingLeftCity } = getState();\n    if (currentSelectingLeftCity) {\n      dispatch(setFrom(city));\n    } else {\n      dispatch(setTo(city));\n    }\n    dispatch(hideCitySelector());\n  };\n}\n\nexport function SetDateSelectorVisible(visible) {\n  return {\n    type: ACTION_SET_IS_DATE_SELECTOR_VISIBLE,\n    payload: visible,\n  };\n}\n\nexport function exchangeFromTo() {\n  return (dispatch, getState) => {\n    const { from, to } = getState();\n    dispatch(setFrom(to));\n    dispatch(setTo(from));\n  };\n}\n\nexport function fetchCityData() {\n  return (dispatch, getState) => {\n    const { isLoadingCityData } = getState();\n    if (isLoadingCityData) {\n      return;\n    }\n\n    const cityData = JSON.parse(localStorage.getItem(CITY_DATA_CATCH_KEY) || \"{}\");\n    if (cityData.expires && cityData.expires > Date.now()) {\n      dispatch(setCityData(cityData));\n      dispatch(setIsLoadingCityData(false));\n      return;\n    }\n\n    request(`${process.env.REACT_APP_API_URl}/rest/citys?_${Date.now()}`).then(response => {\n      const { data } = response;\n      localStorage.setItem(CITY_DATA_CATCH_KEY, JSON.stringify(data));\n      dispatch(setCityData(data));\n      dispatch(setIsLoadingCityData(false));\n    });\n  };\n}\n\nexport function setSearchCityData(payload) {\n  return {\n    type: ACTION_SET_SEARCH_CITY_DATA,\n    payload,\n  };\n}\n\nexport function fetchCityDataByCity(payload) {\n  return dispatch => {\n    request(`${process.env.REACT_APP_API_URl}/rest/searchCity?${stringify(payload)}`).then(\n      response => {\n        const { data } = response;\n        const { result } = data;\n        dispatch(setSearchCityData(result));\n      }\n    );\n  };\n}\n\nexport function setDepartDate(payload) {\n  return {\n    type: ACTION_SET_DEPART_DATE,\n    payload,\n  };\n}\n","import {\n  ACTION_SET_FROM,\n  ACTION_SET_TO,\n  ACTION_SET_IS_CITY_SELECTOR_VISIBLE,\n  ACTION_SET_CURRENT_SELECTING_LEFT_CITY,\n  ACTION_SET_CITY_DATA,\n  ACTION_SET_IS_LOADING_CITY_DATA,\n  ACTION_SET_IS_DATE_SELECTOR_VISIBLE,\n  ACTION_SET_HIGH_SPEED,\n  ACTION_SET_SEARCH_CITY_DATA,\n  ACTION_SET_DEPART_DATE,\n\n} from \"./action\";\nexport default {\n  from(state = \"北京\", action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_FROM:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  to(state = \"上海\", action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_TO:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  isCitySelectorVisible(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_IS_CITY_SELECTOR_VISIBLE:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  currentSelectingLeftCity(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_CURRENT_SELECTING_LEFT_CITY:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  cityData(state = null, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_CITY_DATA:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  isLoadingCityData(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_IS_LOADING_CITY_DATA:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  isDateSelectorVisible(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_IS_DATE_SELECTOR_VISIBLE:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  highSpeed(state = false, action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_HIGH_SPEED:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  searchCityData(state = [], action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_SEARCH_CITY_DATA:\n        return payload;\n      default:\n        return state;\n    }\n  },\n  departDate(state = Date.now(), action) {\n    const { type, payload } = action;\n    switch (type) {\n      case ACTION_SET_DEPART_DATE:\n        return payload;\n      default:\n        return state;\n    }\n  },\n};\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport reducers from \"./reducers\";\nimport thunk from \"redux-thunk\";\n\nexport default createStore(\n  combineReducers(reducers),\n  {\n    from: \"北京\",\n    to: \"上海\",\n    isCitySelectorVisible: false,\n    currentSelectingLeftCity: false,\n    cityData: null,\n    isLoadingCityData: false,\n    isDateSelectorVisible: false,\n    highSpeed: false,\n    searchCityData: [],\n    departDate: Date.now(),\n  },\n  applyMiddleware(thunk)\n);\n","import React, { useMemo, useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport { h0 } from \"../utils/utils\";\nimport \"./DepartDate.css\";\n\nexport default function DepartDate(props) {\n  const { time, onClick } = props;\n  const hoDepart = h0(time);\n  const hoDepartDate = new Date(hoDepart);\n\n  const departDateStr = useMemo(() => {\n    return dayjs(hoDepart).format(\"YYYY-MM-DD\");\n  }, [hoDepart]);\n  const isToday = hoDepart === h0();\n\n  const weekString =\n    \"周\" +\n    [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"][hoDepartDate.getDay()] +\n    (isToday ? \"(今天)\" : \"\");\n\n  const onShowDateSelector = useCallback(() => {\n    onClick(true);\n  }, [onClick]);\n\n  return (\n    <div className=\"depart-date\" onClick={onShowDateSelector}>\n      <input type=\"hidden\" name=\"date\" value={departDateStr} />\n      {departDateStr}\n      <span className=\"depart-week\">{weekString}</span>\n    </div>\n  );\n}\n\nDepartDate.propTypes = {\n  time: PropTypes.number.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport \"./HighSpeed.css\";\n\nexport default function HighSpeed(props) {\n  const { highSpeed, toggle } = props;\n  return (\n    <div className=\"high-speed\">\n      <div className=\"high-speed-label\">只看高铁/动车</div>\n      <div className=\"high-speed-switch\" onClick={() => toggle()}>\n        <input type=\"hidden\" name=\"highSpeed\" value={highSpeed} />\n        <div className={classnames(\"high-speed-track\", { checked: highSpeed })}>\n          <span\n            className={classnames(\"high-speed-handle\", {\n              checked: highSpeed,\n            })}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nHighSpeed.propTypes = {\n  highSpeed: PropTypes.bool.isRequired,\n  toggle: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport \"./Journey.css\";\nimport switchImg from \"./imgs/switch.svg\";\n\nexport default function Journey(props) {\n  const { from, to, exchangeFromTo, showCitySelector } = props;\n  return (\n    <div className=\"journey\">\n      <div\n        className=\"journey-station\"\n        onClick={() => {\n          showCitySelector(true);\n        }}\n      >\n        <input\n          type=\"text\"\n          readOnly\n          className=\"journey-input\"\n          name=\"from\"\n          value={from}\n        />\n      </div>\n      <div className=\"journey-switch\" onClick={exchangeFromTo}>\n        <img\n          className=\"journey-switch-reverse\"\n          src={switchImg}\n          alt=\"切换城市\"\n          width=\"70\"\n          height=\"40\"\n        />\n      </div>\n      <div\n        className=\"journey-station\"\n        onClick={() => {\n          showCitySelector(false);\n        }}\n      >\n        <input\n          type=\"text\"\n          readOnly\n          className=\"journey-input\"\n          name=\"to\"\n          value={to}\n        />\n      </div>\n    </div>\n  );\n}\n","import React, { memo } from \"react\";\nimport \"./Submit.css\";\n\nconst Submit = memo(function Submit() {\n  return (\n    <div className=\"submit\">\n      <button type=\"submit\" className=\"submit-button\">\n        搜索\n      </button>\n    </div>\n  );\n});\n\nexport default Submit;\n","import React, { useState, useCallback, useMemo, useEffect, memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport \"./CitySelector.css\";\n\nconst CityItem = memo(function CityItem(props) {\n  const { name, onSelect } = props;\n  return (\n    <li className=\"city-li\" onClick={() => onSelect(name)}>\n      {name}\n    </li>\n  );\n});\n\nCityItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nconst CitySection = memo(function CitySection(props) {\n  const { title, cities = [], onSelect } = props;\n\n  return (\n    <ul className=\"city-ul\">\n      <li className=\"city-li\" key={title} data-cate={title}>\n        {title}\n      </li>\n      {cities.map(city => (\n        <CityItem key={city.name} name={city.name} onSelect={onSelect} />\n      ))}\n    </ul>\n  );\n});\n\nCitySection.propTypes = {\n  title: PropTypes.string.isRequired,\n  cities: PropTypes.array,\n  onSelect: PropTypes.func.isRequired,\n};\n\nconst AlphaIndex = memo(function AlphaIndex(props) {\n  const { alpha, onClick } = props;\n  const onClickAlpha = useCallback(() => {\n    onClick(alpha);\n  }, [alpha, onClick]);\n  return (\n    <i className=\"city-index-item\" onClick={onClickAlpha}>\n      {alpha}\n    </i>\n  );\n});\n\nAlphaIndex.propTypes = {\n  alpha: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n};\n\nconst CityList = memo(function CityList(props) {\n  const { sections, onSelect, toAlpha } = props;\n  return (\n    <div className=\"city-list\">\n      <div className=\"city-cate\">\n        {sections.map(section => (\n          <CitySection\n            key={section.title}\n            title={section.title}\n            cities={section.citys}\n            onSelect={onSelect}\n          />\n        ))}\n      </div>\n      <div className=\"city-index\">\n        {alphabet.map(alpha => (\n          <AlphaIndex alpha={alpha} key={alpha} onClick={toAlpha} />\n        ))}\n      </div>\n    </div>\n  );\n});\n\nCityList.propTypes = {\n  sections: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  toAlpha: PropTypes.func,\n};\n\nconst alphabet = Array.from(new Array(26), (ele, index) => {\n  return String.fromCharCode(65 + index);\n});\n\nconst SuggestItem = memo(function SuggestItem(props) {\n  const { name, onClick } = props;\n  return (\n    <li className=\"city-sugget-li\" onClick={() => onClick(name)}>\n      {name}\n    </li>\n  );\n});\n\nSuggestItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nconst Sugget = memo(function Sugget(props) {\n  const { searchKey, onSelect, searchCityData, fetchCityDataByCity } = props;\n  useEffect(() => {\n    fetchCityDataByCity({ key: searchKey });\n  }, [fetchCityDataByCity, searchKey]);\n  const fallBackResult = useMemo(() => {\n    if (!searchCityData.length) {\n      return [{ display: searchKey }];\n    }\n    return searchCityData;\n  }, [searchCityData, searchKey]);\n\n  return (\n    <div className=\"city-suggest\">\n      <ul className=\"city-suggest-ul\">\n        {fallBackResult.map(item => {\n          return <SuggestItem key={item.display} name={item.display} onClick={onSelect} />;\n        })}\n      </ul>\n    </div>\n  );\n});\n\nconst CitySelector = memo(function CitySelector(props) {\n  const [searchKey, setSearchKey] = useState(\"\");\n  const {\n    show,\n    cityData,\n    isLoading,\n    onBack,\n    fetchCityData,\n    onSelect,\n    fetchCityDataByCity,\n    searchCityData,\n  } = props;\n  const key = useMemo(() => searchKey.trim(), [searchKey]);\n\n  const onChangeText = useCallback(e => {\n    setSearchKey(e.target.value);\n  }, []);\n\n  useEffect(() => {\n    if (!show || cityData || isLoading) {\n      return;\n    }\n    fetchCityData();\n  }, [cityData, fetchCityData, isLoading, show]);\n\n  const toAlpha = alpha => {\n    document.querySelector(`[data-cate='${alpha}']`).scrollIntoView();\n  };\n\n  const outPutCitySection = () => {\n    if (isLoading) {\n      return <div>loading</div>;\n    }\n    if (cityData) {\n      return (\n        <CityList sections={cityData.cityData.cityList} onSelect={onSelect} toAlpha={toAlpha} />\n      );\n    }\n    return <div>loading</div>;\n  };\n\n  return (\n    <div className={classnames(\"city-selector\", { hidden: !show })}>\n      <div className=\"city-search\">\n        <div className=\"search-back\" onClick={onBack}>\n          <svg width=\"42\" height=\"42\">\n            <polyline points=\"25,13 16,21 25,29\" stroke=\"#fff\" strokeWidth=\"2\" fill=\"none\" />\n          </svg>\n        </div>\n        <div className=\"search-input-wrapper\">\n          <input\n            type=\"text\"\n            className=\"search-input\"\n            value={searchKey}\n            placeholder=\"城市、车站的中文或拼音\"\n            onChange={onChangeText}\n          />\n        </div>\n        <i\n          onClick={() => {\n            setSearchKey(\"\");\n          }}\n          className={classnames(\"search-clean\", {\n            hidden: key.length === 0,\n          })}\n        >\n          &#xf063;\n        </i>\n      </div>\n      {Boolean(key) ? (\n        <Sugget\n          searchKey={key}\n          onSelect={key => onSelect(key)}\n          fetchCityDataByCity={fetchCityDataByCity}\n          searchCityData={searchCityData}\n        />\n      ) : null}\n      {outPutCitySection()}\n    </div>\n  );\n});\n\nCitySelector.propTypes = {\n  show: PropTypes.bool,\n  cityData: PropTypes.object,\n  isLoading: PropTypes.bool.isRequired,\n  onBack: PropTypes.func.isRequired,\n  fetchCityData: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nexport default CitySelector;\n","import React, { useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport { h0 } from \"../utils/utils\";\nimport Header from \"./Header\";\nimport \"./DateSelector.css\";\n\nfunction Day(props) {\n  const { day, onSelect } = props;\n  const now = h0();\n\n  return (\n    <td\n      className={classnames(\n        {\n          null: !day,\n        },\n        {\n          disabled: day && day < now,\n        },\n        {\n          weekend: [0, 6].includes(new Date(day).getDay()),\n        }\n      )}\n      onClick={() => onSelect(day)}\n    >\n      {day ? (day === now ? \"今天\" : new Date(day).getDate()) : \"\"}\n    </td>\n  );\n}\n\nDay.propTypes = {\n  day: PropTypes.number,\n  onSelect: PropTypes.func.isRequired,\n};\n\nfunction Week(props) {\n  const { days, onSelect } = props;\n\n  return (\n    <tr className=\"date-table-days\">\n      {days.map((day, idx) => (\n        <Day key={idx} day={day} onSelect={onSelect} />\n      ))}\n    </tr>\n  );\n}\nWeek.propTypes = {\n  days: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nfunction Month(props) {\n  const { startingTimeInMonth, onSelect } = props;\n\n  const startDate = new Date(startingTimeInMonth);\n  const currentDate = new Date(startingTimeInMonth);\n\n  let days = [];\n  while (startDate.getMonth() === currentDate.getMonth()) {\n    days.push(currentDate.getTime());\n    currentDate.setDate(currentDate.getDate() + 1);\n  }\n\n  // 第一个日期不是星期一时，补齐操作\n  days = new Array(startDate.getDay() ? startDate.getDay() - 1 : 6).fill(null).concat(days);\n\n  // 最后一日期不是周日时，补齐操作\n  const lastDay = new Date(days[days.length - 1]);\n  days = days.concat(new Array(lastDay.getDay() ? 7 - lastDay.getDay() : 0));\n  const weeks = [];\n  for (let i = 0, l = days.length / 7; i < l; i++) {\n    weeks.push(days.slice(i * 7, (i + 1) * 7));\n  }\n\n  const weekNames = [\"周一\", \"周二\", \"周三\", \"周四\", \"周五\"];\n  return (\n    <table className=\"date-table\">\n      <thead>\n        <tr>\n          <td colSpan=\"7\">\n            <h5>{`${startDate.getFullYear()}年${startDate.getMonth()}月`}</h5>\n          </td>\n        </tr>\n      </thead>\n      <tbody>\n        <tr className=\"date-table-weeks\">\n          {weekNames.map(name => (\n            <th key={name}>{name}</th>\n          ))}\n          <th className=\"weekend\">周六</th>\n          <th className=\"weekend\">周日</th>\n        </tr>\n        {weeks.map((days, idx) => (\n          <Week days={days} key={idx} onSelect={onSelect} />\n        ))}\n      </tbody>\n    </table>\n  );\n}\n\nMonth.propTypes = {\n  startingTimeInMonth: PropTypes.number.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nexport default function DateSelector(props) {\n  const { show, onSelect, onBack } = props;\n  const onHidenDateSelector = useCallback(() => {\n    onBack(false);\n  }, [onBack]);\n\n  const now = new Date();\n  now.setDate(1);\n  now.setHours(0);\n  now.setMinutes(0);\n  now.setSeconds(0);\n  now.setMilliseconds(0);\n  const monthSequence = [now.getTime()];\n  now.setMonth(now.getMonth() + 1);\n  monthSequence.push(now.getTime());\n\n  now.setMonth(now.getMonth() + 1);\n  monthSequence.push(now.getTime());\n\n  return (\n    <div className={classnames(\"date-selector\", { hidden: !show })}>\n      <Header title=\"日期选择\" onBack={onHidenDateSelector} />\n      <div className=\"date-selector-tables\">\n        {monthSequence.map(month => (\n          <Month key={month} startingTimeInMonth={month} onSelect={onSelect} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nDateSelector.propTypes = {\n  show: PropTypes.bool.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onBack: PropTypes.func.isRequired,\n};\n","import React, { useCallback } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./App.css\";\nimport Header from \"../components/Header.jsx\";\nimport DepartDate from \"./DepartDate.jsx\";\nimport HighSpeed from \"./HighSpeed.jsx\";\nimport Journey from \"./Journey.jsx\";\nimport Submit from \"./Submit.jsx\";\nimport CitySelector from \"../components/CitySelector\";\nimport DateSelector from \"../components/DateSelector\";\nimport { h0 } from \"../utils/utils\";\nimport {\n  exchangeFromTo,\n  showCitySelector,\n  fetchCityData,\n  setSelectedCity,\n  hideCitySelector,\n  fetchCityDataByCity,\n  SetDateSelectorVisible,\n  setDepartDate,\n  toggleHighSpeed,\n} from \"./action\";\n\nfunction App(props) {\n  const {\n    from,\n    to,\n    onExchangeFromTo,\n    isCitySelectorVisible,\n    cityData,\n    isLoadingCityData,\n    onShowCitySelector,\n    onFetchCityData,\n    setSelectedCity,\n    hideCitySelector,\n    fetchCityDataByCity,\n    searchCityData,\n    SetDateSelectorVisible,\n    departDate,\n    isDateSelectorVisible,\n    setDepartDate,\n    toggleHighSpeed,\n    highSpeed,\n  } = props;\n  const onBack = useCallback(() => {\n    window.history.back();\n  }, []);\n  const doShowCitySelector = useCallback(m => onShowCitySelector(m), [onShowCitySelector]);\n\n  const onSelectDate = useCallback(\n    day => {\n      if (!day || day < h0()) {\n        return;\n      }\n      setDepartDate(day);\n      SetDateSelectorVisible(false);\n    },\n    [SetDateSelectorVisible, setDepartDate]\n  );\n\n  return (\n    <div>\n      <div className=\"header-wrapper\">\n        <Header title=\"火车票\" onBack={onBack} />\n      </div>\n      <form action=\"./query.html\" className=\"form\">\n        <Journey\n          from={from}\n          to={to}\n          exchangeFromTo={onExchangeFromTo}\n          showCitySelector={doShowCitySelector}\n        />\n        <DepartDate onClick={SetDateSelectorVisible} time={departDate} />\n        <HighSpeed highSpeed={highSpeed} toggle={toggleHighSpeed} />\n        <Submit />\n      </form>\n      <CitySelector\n        show={isCitySelectorVisible}\n        cityData={cityData}\n        isLoading={isLoadingCityData}\n        onBack={hideCitySelector}\n        fetchCityData={onFetchCityData}\n        onSelect={setSelectedCity}\n        fetchCityDataByCity={fetchCityDataByCity}\n        searchCityData={searchCityData}\n      />\n      <DateSelector\n        show={isDateSelectorVisible}\n        onBack={SetDateSelectorVisible}\n        onSelect={onSelectDate}\n      />\n    </div>\n  );\n}\n\nexport default connect(\n  function mapStateTopProps(state) {\n    return state;\n  },\n  {\n    onExchangeFromTo: exchangeFromTo,\n    onShowCitySelector: showCitySelector,\n    onFetchCityData: fetchCityData,\n    setSelectedCity,\n    hideCitySelector,\n    fetchCityDataByCity,\n    SetDateSelectorVisible,\n    setDepartDate,\n    toggleHighSpeed,\n  }\n)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"normalize.css/normalize.css\";\nimport store from \"./store\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\nimport * as serviceWorker from \"../serviceWorker\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\nif (\"production\" === process.env.NODE_ENV) {\n  serviceWorker.register();\n} else {\n  serviceWorker.unregister();\n}\n","//缓存城市数据key\nexport const CITY_DATA_CATCH_KEY = \"CITY_DATA_CATCH_KEY\";\n\n// 订单类型\nexport const ORDER_TYPE_KEY = {\n  orderDepart: 1,\n  orderDuration: 2,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Header.css\";\n\nexport default function Header(props) {\n  const { onBack, title } = props;\n  return (\n    <div className=\"header\">\n      <div className=\"header-back\" onClick={onBack}>\n        <svg width=\"42\" height=\"42\">\n          <polyline\n            points=\"25,13 16,21 25,29\"\n            stroke=\"#fff\"\n            strokeWidth=\"2\"\n            fill=\"none\"\n          />\n        </svg>\n      </div>\n      <h1 className=\"header-title\">{title}</h1>\n    </div>\n  );\n}\n\nHeader.propTypes = {\n  onBack: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n};\n"],"sourceRoot":""}